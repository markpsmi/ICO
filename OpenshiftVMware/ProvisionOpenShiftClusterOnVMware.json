[{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"An IPv4 address represented in dot decimal notation, such as '192.168.1.6'.","Label":"IPv4 Address","Name":"IpV4AddressType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"An IPv4 address represented in dot decimal notation, such as '192.168.1.6'.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IPv4 Address","Name":"IpV4Address","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Datacenter","Label":"Datacenter","Name":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseDatacenter)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Cluster.","Label":"Cluster","Name":"HypervisorClusterType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseCluster)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Pauses the current workflow for the specified duration.","Label":"Sleep Task","Name":"InvokeSleepTask","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Sleep Time in Seconds","Name":"SleepTimeInSec","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":600,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"CoreTasks"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"This data type takes holds information about a formatted string.","Label":"Formatted Text","Name":"FormattedText","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The content type of the request. Currently supports JSON and Text.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Content Type","Name":"ContentType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"JSON","ObjectType":"workflow.EnumEntry","Value":"json"},{"Label":"Text","ObjectType":"workflow.EnumEntry","Value":"text"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The content of the formatted text that can spawn multiple lines.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Text","Name":"Text","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"The types of values that can be extracted from API responses in IO Generic API tasks.","Label":"Response Parameter Type","Name":"ResponseParameterTypeEnum","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The types of values that can be extracted from API responses in IO Generic API tasks. The JSON type can be used to extract any type of value from response as a parameter.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parameter Type","Name":"ParameterType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"String","ObjectType":"workflow.EnumEntry","Value":"string"},{"Label":"Integer","ObjectType":"workflow.EnumEntry","Value":"integer"},{"Label":"Float","ObjectType":"workflow.EnumEntry","Value":"float"},{"Label":"Boolean","ObjectType":"workflow.EnumEntry","Value":"boolean"},{"Label":"JSON","ObjectType":"workflow.EnumEntry","Value":"json"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"This data type takes information about a parameter that needs to be extracted from an API response in Generic API tasks.","Label":"Response Parameter","Name":"ResponseParameter","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The content specific path information that identifies the parameter value within the content. The value is usually a XPath or JSONPath or a regular expression in case of text content.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Path","Name":"Path","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the response parameter.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The response parameter type - will be one of string, integer, float, boolean, complex or collection. If the type is not specified, parameter will be considered of string type by default.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Type","Name":"Type","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"ResponseParameterTypeEnum","ObjectType":"workflow.CustomDataProperty"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Response parser framework supports extraction of required values from API/device responses. These responses may be of various content types such as XML, JSON, etc. The values of importance are modeled as parameters in the response parser framework.\nThe parameters can be of a scalar value type or a collection of values. A group of related parameters can be modeled as a single complex type parameter. These complex types will be very useful to extract a set of repeating group of related parameters.\nA response parser specification defines the set of parameters that need to be extracted from the content. The response parser specification allows complex type definitions to be defined for any complex parameters.","Label":"Response Parser","Name":"ResponseParserType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"ResponseParameter","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The collection of parameters that need to be extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parameters","Max":10,"Min":1,"Name":"Parameters","ObjectType":"workflow.ArrayDataType"}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"The outcome type specifies status of the task to be set when the outcome condition evaluates to true.","Label":"Outcome Type Enum","Name":"OutcomeTypeEnum","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The outcome type specifies status of the task to be set when the outcome condition evaluates to true.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Outcome Type","Name":"OutcomeType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Success","ObjectType":"workflow.EnumEntry","Value":"Success"},{"Label":"Error","ObjectType":"workflow.EnumEntry","Value":"Error"},{"Label":"Skip Task Execution","ObjectType":"workflow.EnumEntry","Value":"SkipTaskExecution"},{"Label":"Terminal Error","ObjectType":"workflow.EnumEntry","Value":"TerminalError"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Intersight Orchestrator allows the users to specify the different API outcomes.\nThe task status message for an outcome can be specified. An outcome can be qualified as recoverable/non-recoverable error condition.","Label":"Outcome","Name":"Outcome","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The user friendly name given to the task outcome.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The condition expression that uses a golang template logical expression to mark this outcome when the condition evaluates to true for the task execution.\nThe condition can refer outputs extracted via the response parser. The format to refer the captured output is {{.local.response.<captured-parameter-name>}}.\nLets say we have defined 'Name' in the response parser specification and in the condition we want to check if the extracted output 'Name' equals to string value 'Test', condition looks like - {{eq .local.response.Name \"Test\"}}. Make sure to enclose the value within double quotes if it is of string datatype.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Condition","Name":"Condition","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The message to be shown when the outcome specified by condition occurs. Message can have references to the response\nparser captured output.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Message","Name":"Message","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The outcome type based on which task status is updated accordingly. Following outcome types are defined. 1. Success              - Indicates that the outcome is a success and task execution status is marked as 'success'.\n2. Error                - Indicates that the outcome is an error and task execution status is marked as 'failed'.\n3. Skip Task Execution  - Indicates that the task needs to be skipped based on the condition specified and\n                          mark the execution status as 'NO_OP'.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Type of the outcome","Name":"Type","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"OutcomeTypeEnum","ObjectType":"workflow.CustomDataProperty"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","Label":"Invoke Web API Request","Name":"InvokeGenericWebApi","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The API call can be made to Intersight or an external endpoint added as Target. Target should be in claimed or connected state. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked. An empty value for this input indicates that the API call is made to Intersight.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"External Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter or TargetType eq APIC or TargetType eq MDSDevice or TargetType eq NexusDevice or TargetType eq UCSD or TargetType eq RedfishServer or TargetType eq UCSC890) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}]},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"HTTP method to be requested on the given URL. If the value is not given, GET is used as default.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Method","Name":"Method","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"GET","ObjectType":"workflow.EnumEntry","Value":"GET"},{"Label":"HEAD","ObjectType":"workflow.EnumEntry","Value":"HEAD"},{"Label":"POST","ObjectType":"workflow.EnumEntry","Value":"POST"},{"Label":"PUT","ObjectType":"workflow.EnumEntry","Value":"PUT"},{"Label":"PATCH","ObjectType":"workflow.EnumEntry","Value":"PATCH"},{"Label":"DELETE","ObjectType":"workflow.EnumEntry","Value":"DELETE"},{"Label":"OPTIONS","ObjectType":"workflow.EnumEntry","Value":"OPTIONS"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Relative URL for Intersight, Device Registration and Target APIs. Does not support specifying fully qualified URL.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"URL","Name":"Url","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The request headers that need to be sent in the request in key value pairs list.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Headers","Name":"Headers","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The key value pairs given in this input will be sent in HTTP 'Cookie' header.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cookies","Name":"Cookies","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The type of the response. Currently supports JSON.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Response Type","Name":"ContentType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"JSON","ObjectType":"workflow.EnumEntry","Value":"json"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The optional request body that is sent as part of this API request. The request body can contain golang templates that can be populated with task input parameters and previous API output parameters.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Body","Name":"Body","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"FormattedText","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The structure of the response parser shall provide the list of values that need to be extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Response Parser","Name":"ResponseParser","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"ResponseParserType","ObjectType":"workflow.CustomDataProperty"}},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"Outcome","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Allows to capture the possible outcomes of this API. This is a collection of outcomes which gets evaluated in the order they are given. If an outcome condition evaluates to 'true', status of the task can be set to one of the supported types - Success, Error or no operation and also an optional task execution message can be set.\nAt the end of the outcomes list, a catchall success/fail outcome can be added with condition explicitly set as 'true'. This allows to mark the status of task execution either success or failure when none of the previous outcomes match.\nWhen no outcomes is specified, default behaviour is to mark the API execution status 'success' if obtained HTTP status code is 2xx else mark it as 'failed'.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Outcomes","Max":10,"Name":"Outcomes","ObjectType":"workflow.ArrayDataType"}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The response headers that are extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Headers","Name":"Headers","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The list of cookies obtained from the response in the form of key value pairs.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cookies","Name":"Cookies","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The HTTP status code of the Web API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Status Code","Name":"StatusCode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The HTTP status message of the Web API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Status Message","Name":"StatusMessage","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The list of output parameters extracted from the response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parameters","Name":"Parameters","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}}],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Executors"}],"Version":2},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Unclaims the target endpoint from Intersight. When a target is unclaimed, it is immediately detached from the corresponding Intersight account. The target retains any configuration applied before the unclaim operation. You can unclaim any type of target endpoints. ","Label":"Remove Target","Name":"RemoveTarget","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Target to be unclaimed. Supported targets are HTTP EndPoint, SSH EndPoint, Ansible and Powershell EndPoint","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Target","Name":"Target","ObjectType":"workflow.MoReferenceDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/asset/Targets?$select=Name,TargetType ","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[],"RetryCount":1,"RetryDelay":10,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":90,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Target Management"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"A DNS name, IPv4 or IPv6 address.\n\nThis type accepts the following values:\n- Host name, e.g. 'my-host123'.\n- Fully-qualified host name, e.g. my-host123.example.com.\n- The host name and domain can contain letters, digits and hyphen.\n- The host name and sub-domains must start with a letter or digit. The top-level domain must start with a letter.\n- The top-level domain must start with a letter.\n- IPv4 address, e.g. 192.168.1.4.\n- IPv6 address, e.g. fe80::20c:29ff:fe3c:55f1.\n","Label":"Internet Address Type","Name":"InternetAddressType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"A DNS name, IPv4 or IPv6 address.\n\nThis type accepts the following values:\n- Host name, e.g. 'my-host123'.\n- Fully-qualified host name, e.g. my-host123.example.com.\n- The host name and domain can contain letters, digits and hyphen.\n- The host name and sub-domains must start with a letter or digit. The top-level domain must start with a letter.\n- The top-level domain must start with a letter.\n- IPv4 address, e.g. 192.168.1.4.\n- IPv6 address, e.g. fe80::20c:29ff:fe3c:55f1.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Internet Address","Name":"InternetAddress","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"^[A-Za-z]([A-Za-z0-9-]*[A-Za-z0-9])?$|^[A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])?)*(\\.[A-Za-z]([A-Za-z0-9-]*[A-Za-z0-9])?)$|^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{0,4}|:[0-9A-Fa-f]{1,4})?|(:[0-9A-Fa-f]{1,4}){0,2})|(:[0-9A-Fa-f]{1,4}){0,3})|(:[0-9A-Fa-f]{1,4}){0,4})|:(:[0-9A-Fa-f]{1,4}){0,5})((:[0-9A-Fa-f]{1,4}){2}|:(25[0-5]|(2[0-4]|1[0-9]|[1-9])?[0-9])(\\.(25[0-5]|(2[0-4]|1[0-9]|[1-9])?[0-9])){3})|(([0-9A-Fa-f]{1,4}:){1,6}|:):[0-9A-Fa-f]{0,4}|([0-9A-Fa-f]{1,4}:){7}:)$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Definition for the supported target types","Label":"Supported Target Types","Name":"SupportedTargetTypes","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Supported Target Types","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Supported Target Types","Name":"SupportedTargetTypes","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"HTTP EndPoint","ObjectType":"workflow.EnumEntry","Value":"HTTPEndpoint"},{"Label":"SSH EndPoint","ObjectType":"workflow.EnumEntry","Value":"SSHEndpoint"},{"Label":"PowerShell EndPoint","ObjectType":"workflow.EnumEntry","Value":"PowerShellEndpoint"},{"Label":"Ansible EndPoint","ObjectType":"workflow.EnumEntry","Value":"AnsibleEndpoint"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Basic Authentication","Label":"Basic Authentication","Name":"BasicAuthentication","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The username used to authenticate with a managed target.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Username","Name":"Username","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The password used to authenticate with a managed target.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Password","Name":"Password","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Authentication Scheme","Label":"Authentication Scheme","Name":"HTTPAuthentication","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"AuthenticationSchemeOptions","EnableParameters":["BasicAuth"],"Name":"AuthenticationSchemeOption1","ObjectType":"workflow.ParameterSet","Value":"Basic"},{"Condition":"eq","ControlParameter":"AuthenticationSchemeOptions","EnableParameters":["Token"],"Name":"AuthenticationSchemeOption2","ObjectType":"workflow.ParameterSet","Value":"Bearer Token"}],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Authentication scheme options","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Authentication Scheme Options","Name":"AuthenticationSchemeOptions","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Basic","ObjectType":"workflow.EnumEntry","Value":"Basic"},{"Label":"Bearer Token","ObjectType":"workflow.EnumEntry","Value":"Bearer Token"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The token used to authenticate with a managed target.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Token","Name":"Token","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Basic Authentication","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Basic Authentication","Name":"BasicAuth","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"BasicAuthentication","ObjectType":"workflow.CustomDataProperty"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Key based Authentication","Label":"Key based Authentication","Name":"KeyBasedAuthentication","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The username used to authenticate with a managed target.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Username","Name":"Username","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The private key used to authenticate with a managed target.The corresponding public key needs to be added in the auth list of the remote endpoint.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Private Key","Name":"PrivateKey","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The passphrase associated with the private key - Optional.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Passphrase","Name":"Passphrase","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"SSH Ansible Authentication Scheme","Label":"SSH Ansible Authentication Scheme","Name":"SshAuthentication","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"AuthenticationOptions","EnableParameters":["SABasicAuth"],"Name":"AuthenticationOption1","ObjectType":"workflow.ParameterSet","Value":"Basic"},{"Condition":"eq","ControlParameter":"AuthenticationOptions","EnableParameters":["SAKeyBasedAuth"],"Name":"AuthenticationOption2","ObjectType":"workflow.ParameterSet","Value":"Key Based"}],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Authentication options for SSH or Ansible","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Authentication Options","Name":"AuthenticationOptions","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Basic","ObjectType":"workflow.EnumEntry","Value":"Basic"},{"Label":"Key Based","ObjectType":"workflow.EnumEntry","Value":"Key Based"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Basic Authentication for SSH or Ansible","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"SSH or Ansible Basic Authentication","Name":"SABasicAuth","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"BasicAuthentication","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Key based Authentication for SSH or Ansible","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"SSH or Ansible Key Authentication","Name":"SAKeyBasedAuth","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"KeyBasedAuthentication","ObjectType":"workflow.CustomDataProperty"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Inputs required to claim a new target","Label":"Claim Target Options","Name":"ClaimTargetOptions","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"TargetType","EnableParameters":["ConnectViaAssist","AuthenticationRequired","EnableHTTPSProtocol"],"Name":"ClaimTargetOptions1","ObjectType":"workflow.ParameterSet","Value":"HTTPEndpoint"},{"Condition":"eq","ControlParameter":"TargetType","EnableParameters":["Assist","SAAuth"],"Name":"ClaimTargetOptions2","ObjectType":"workflow.ParameterSet","Value":"SSHEndpoint"},{"Condition":"eq","ControlParameter":"TargetType","EnableParameters":["Assist","Auth"],"Name":"ClaimTargetOptions3","ObjectType":"workflow.ParameterSet","Value":"PowerShellEndpoint"},{"Condition":"eq","ControlParameter":"TargetType","EnableParameters":["Assist","SAAuth"],"Name":"ClaimTargetOptions4","ObjectType":"workflow.ParameterSet","Value":"AnsibleEndpoint"},{"Condition":"eq","ControlParameter":"AuthenticationRequired","EnableParameters":["HTTPAuth"],"Name":"ClaimTargetOptions5","ObjectType":"workflow.ParameterSet","Value":"true"},{"Condition":"eq","ControlParameter":"ConnectViaAssist","EnableParameters":["Assist"],"Name":"ConnectViaAssistOption1","ObjectType":"workflow.ParameterSet","Value":"true"}],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Choose the target type to claim a new target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Target Type","Name":"TargetType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"SupportedTargetTypes","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"HTTP Authentication","Name":"HTTPAuth","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HTTPAuthentication","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"PowerShell Authentication","Name":"Auth","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"BasicAuthentication","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Authentication","Name":"SAAuth","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"SshAuthentication","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Enable if a target is reachable via Intersight Assist only.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Connect through an Intersight Assist","Name":"ConnectViaAssist","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The Intersight Assist which facilitates management of the target. On premise targets which do not have embedded Intersight Device Connectors must be managed through an Intersight Assist.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Intersight Assist","Name":"Assist","ObjectType":"workflow.MoReferenceDataType","Properties":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/asset/Targets?$filter=TargetType eq IntersightAssist","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}]},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Disable if the endpoint doesn't require any authentication or when the authentication required for the endpoint is not supported in the Authentication Scheme dropdown, in which case respective authentication parameters should be provided in the Web API task inputs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Authentication Required","Name":"AuthenticationRequired","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Indicates whether a connection to the target should be established using HTTPS.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Enable HTTPS Protocol","Name":"EnableHTTPSProtocol","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Claims a new target endpoint in Intersight. The supported target types are HTTP , SSH, Powershell and Ansible endpoint.","Label":"New Target","Name":"NewTarget","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"A user provided name for the managed target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The DNS hostname or IP Address, either IPv4 or IPv6, to be used to connect to the managed target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hostname or IP Address","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"InternetAddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The port number to be used to connect to the managed target.Valid values are 1 - 65535. If not provided, a default port used to establish the connection to the given target. For HTTP connection, default port used is 443. For SSH/Ansible connection, default port used is 22. For Powershell connection, default port used is 5986.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Port","Name":"Port","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":65535,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Options to claim a new target. Supported targets are HTTP EndPoint, SSH EndPoint, Ansible and Powershell EndPoint","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Claim Target Options","Name":"ClaimTargetOptions","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"ClaimTargetOptions","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Moid of the managed target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Target","Name":"Target","ObjectType":"workflow.MoReferenceDataType","Properties":[{"DisplayAttributes":["Moid"],"ObjectType":"workflow.MoReferenceProperty","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}]}],"RetryCount":5,"RetryDelay":10,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":90,"TimeoutPolicy":"Retry"},"RollbackTasks":[{"CatalogMoid":"shared","Description":"Remove Target","InputParameters":{"Target":"${task.output.Target}"},"Name":"RemoveTarget","ObjectType":"workflow.RollbackTask","Version":1}],"SecurePropAccess":true,"SharedScope":"shared","Tags":[{"Key":"category","Value":"Target Management"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Get's a JWT from Red Hat which you can use for 15 minutes","Label":"Get Red Hat JWT","Name":"GetRedHatJWT","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Offline Token","Name":"OFFLINE_TOKEN","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Redhat SSO Endpoint","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter or TargetType eq APIC or TargetType eq MDSDevice or TargetType eq NexusDevice or TargetType eq UCSD) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The list of output parameters extracted from the response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Java Web Token","Name":"JWT","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Secure":true,"Type":"string"}}],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"user","Tags":[{"Key":"category","Value":"Compute"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"This Workflow will\n1. Validate if your cluster is ready for install \n2. Start the OpenShift installation","InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJhZDUyMjdhMy1iY2ZkLTRjZjAtYTdiNi0zOTk4MzVhMDg1NjYifQ.eyJpYXQiOjE2NjQ4NTUyNDcsImp0aSI6IjQyYzg4ZDIwLWFlMDktNDMwNi05YzJkLWFiNjlmM2YwNjljYSIsImlzcyI6Imh0dHBzOi8vc3NvLnJlZGhhdC5jb20vYXV0aC9yZWFsbXMvcmVkaGF0LWV4dGVybmFsIiwiYXVkIjoiaHR0cHM6Ly9zc28ucmVkaGF0LmNvbS9hdXRoL3JlYWxtcy9yZWRoYXQtZXh0ZXJuYWwiLCJzdWIiOiJmOjUyOGQ3NmZmLWY3MDgtNDNlZC04Y2Q1LWZlMTZmNGZlMGNlNjpib3Jpcy5hZWxlbiIsInR5cCI6Ik9mZmxpbmUiLCJhenAiOiJjbG91ZC1zZXJ2aWNlcyIsIm5vbmNlIjoiNGE1NjMzNWUtZGFmOC00MzY3LTgzYjQtNTQxMjc0ODU2ZjdlIiwic2Vzc2lvbl9zdGF0ZSI6ImI2OWVlYjdlLTBkYzQtNDM1OC1iMDk3LTQyY2NiMWQ4ZWZlMyIsInNjb3BlIjoib3BlbmlkIGFwaS5pYW0uc2VydmljZV9hY2NvdW50cyBvZmZsaW5lX2FjY2VzcyIsInNpZCI6ImI2OWVlYjdlLTBkYzQtNDM1OC1iMDk3LTQyY2NiMWQ4ZWZlMyJ9.gr-gTfybvVHyCF4B1uNHrWhm_zy4Ahx3zOXmPnFPqus"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Redhat API Token","Name":"OFFLINE_TOKEN","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"228d9eb7-437a-4685-a67f-b19b9b14b861"},"Description":"The ID of the OpenShift Cluster","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster ID","Name":"CLUSTER_ID","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"InputParameterSet":[],"Label":"Install OpenShift Cluster","Name":"InstallOpenShiftCluster","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"OutputParameters":{},"Properties":{"EnableDebug":true,"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tags":[{"Key":"category","Value":"Compute"}],"Tasks":[{"Name":"StartTask","NextTask":"RHTarget","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Claims a new target endpoint in Intersight. The supported target types are HTTP , SSH, Powershell and Ansible endpoint.","InputParameters":{"ClaimTargetOptions":{"AuthenticationRequired":false,"ConnectViaAssist":false,"EnableHTTPSProtocol":true,"TargetType":"HTTPEndpoint"},"Host":"sso.redhat.com","Name":"Redhat SSO","Port":443},"Label":"Add Redhat SSO Target","Name":"RHTarget","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"OpenshiftTarget","TaskDefinitionName":"NewTarget","Version":1},{"CatalogMoid":"shared","Description":"Claims a new target endpoint in Intersight. The supported target types are HTTP , SSH, Powershell and Ansible endpoint.","InputParameters":{"ClaimTargetOptions":{"AuthenticationRequired":false,"ConnectViaAssist":false,"EnableHTTPSProtocol":true,"TargetType":"HTTPEndpoint"},"Host":"api.openshift.com","Name":"Openshift API","Port":443},"Label":"Add Openshift API Target","Name":"OpenshiftTarget","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"serialLoop1","TaskDefinitionName":"NewTarget","Version":1},{"Condition":"if (${getClusterStatus2.output.Parameters.ClusterStatus} === \"ready\") { false; } else { true; } ","Description":"A Serial Loop is a control task that runs one or more worker tasks multiple times based on a specified count or a given condition.  Either count or condition must be provided, not both.  When the loop is executed, based on count or condition, each iteration of task or a sequence of tasks inside loop run in serial.  If any of the task fail then the entire loop will fail.","Label":"Check cluster readiness","LoopStartTask":"InvokeSleepTask1","Name":"serialLoop1","ObjectType":"workflow.SerialLoopTask","OnSuccess":"GetRedHatJWT1"},{"CatalogMoid":"user","Description":"Get's a JWT from Red Hat which you can use for 15 minutes","InputParameters":{"OFFLINE_TOKEN":"${workflow.input.OFFLINE_TOKEN}","Target":"${RHTarget.output.Target}"},"Label":"Get Red Hat JWT","Name":"GetRedHatJWT2","ObjectType":"workflow.WorkerTask","OnSuccess":"getClusterStatus2","TaskDefinitionName":"GetRedHatJWT","Version":1},{"CatalogMoid":"shared","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","InputParameters":{"ContentType":"json","Headers":{"Authorization":"Bearer {{ .global.GetRedHatJWT2.output.JWT }}","Content-Type":"application/json","accept":"application/json"},"Method":"GET","ResponseParser":{"Parameters":[{"Name":"ClusterStatus","Path":"$.status","Type":"string"}]},"Target":"${OpenshiftTarget.output.Target}","Url":"/api/assisted-install/v2/clusters/{{ .global.workflow.input.CLUSTER_ID }}"},"Label":"Get Cluster Status","Name":"getClusterStatus2","ObjectType":"workflow.WorkerTask","TaskDefinitionName":"InvokeGenericWebApi","VariableParameters":{"ClusterStatus":"${getClusterStatus2.output.Parameters.ClusterStatus}"},"Version":2},{"CatalogMoid":"shared","InputParameters":{"ContentType":"json","Headers":{"Authorization":"Bearer {{ .global.GetRedHatJWT1.output.JWT }}","Content-Type":"application/json","accept":"application/json"},"Method":"POST","ResponseParser":{"Parameters":[{"Name":"Response","Path":"$","Type":"json"}]},"Target":"${OpenshiftTarget.output.Target}","Url":"/api/assisted-install/v2/clusters/{{ .global.workflow.input.CLUSTER_ID }}/actions/install"},"Label":"Install OpenShift Cluster","Name":"installOpenshiftCluster","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"removeOpenshiftTarget","TaskDefinitionName":"InvokeGenericWebApi","Version":2},{"CatalogMoid":"shared","Description":"Unclaims the target endpoint from Intersight. When a target is unclaimed, it is immediately detached from the corresponding Intersight account. The target retains any configuration applied before the unclaim operation. You can unclaim any type of target endpoints. ","InputParameters":{"Target":"${RHTarget.output.Target}"},"Label":"Remove Redhat SSO Target","Name":"removeRHTarget","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"RemoveTarget","Version":1},{"CatalogMoid":"shared","Description":"Unclaims the target endpoint from Intersight. When a target is unclaimed, it is immediately detached from the corresponding Intersight account. The target retains any configuration applied before the unclaim operation. You can unclaim any type of target endpoints. ","InputParameters":{"Target":"${OpenshiftTarget.output.Target}"},"Label":"Remove Openshift API Target","Name":"removeOpenshiftTarget","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"removeRHTarget","TaskDefinitionName":"RemoveTarget","Version":1},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"user","Description":"Get's a JWT from Red Hat which you can use for 15 minutes","InputParameters":{"OFFLINE_TOKEN":"${workflow.input.OFFLINE_TOKEN}","Target":"${RHTarget.output.Target}"},"Label":"Get Red Hat JWT 2","Name":"GetRedHatJWT1","ObjectType":"workflow.WorkerTask","OnSuccess":"installOpenshiftCluster","TaskDefinitionName":"GetRedHatJWT","Version":1},{"CatalogMoid":"shared","Description":"Pauses the current workflow for the specified duration.","InputParameters":{"SleepTimeInSec":60},"Label":"Sleep Task","Name":"InvokeSleepTask1","ObjectType":"workflow.WorkerTask","OnSuccess":"GetRedHatJWT2","TaskDefinitionName":"InvokeSleepTask","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":313.5,"Y":-119.5},{"Name":"SuccessEndTask","X":313.5,"Y":869},{"Name":"FailureEndTask","X":455.5,"Y":869},{"Name":"RHTarget","X":228.5,"Y":-30.5},{"Name":"removeRHTarget","X":228.5,"Y":781},{"Name":"removeOpenshiftTarget","X":228.5,"Y":693},{"Name":"OpenshiftTarget","X":228.5,"Y":63},{"Name":"installOpenshiftCluster","X":228.5,"Y":605},{"Name":"serialLoop1","X":218.5,"Y":162},{"Name":"getClusterStatus","X":189.5,"Y":308},{"Name":"GetRedHatJWT2","X":228.5,"Y":330},{"Name":"getClusterStatus2","X":228.5,"Y":407},{"Name":"GetRedHatJWT1","X":228.5,"Y":517},{"Name":"InvokeSleepTask1","X":228.5,"Y":253}]},"VariableDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue","Value":"api.openshift.com"},"Description":"Relative URL for Intersight, Device Registration and Target APIs. Does not support specifying fully qualified URL.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"openshift_api","Name":"openshift_api","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"pending"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"ClusterStatus","Name":"ClusterStatus","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Expect Prompt models a single expect and answer prompt of the interactive command.\n","Label":"Expect Prompt","Name":"ExpectPrompt","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The regular expression of the expect prompt of the Interactive command. You must provide the complete regular expression of the expect string and the expression must end with special character '$' to match the end of the Expect string.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Expect","Name":"Expect","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":".*\\$$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The answer string to the Expect prompt.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Send","Name":"Send","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"SSH command to execute on the remote server. SSH task executor supports executing non-interactive and prompts based interactive commands.\n","Label":"SSH Command Type","Name":"SshCommandType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"CommandType","EnableParameters":["ExpectPrompts","ShellPrompt"],"Name":"enablePrompt","ObjectType":"workflow.ParameterSet","Value":"InteractiveCmd"}],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The SSH commands that are to be run on the remote server. Multiple commands can be configured to be run on the given target by chaining the commands with special characters - '&&'  ';' '|' etc. Note that command chaining is allowed only when the command type is Non-Interactive.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Command","Name":"Command","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The SSH command type to be run on the remote server. The SSH task supports running Non-Interactive and expect prompts based Interactive commands.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Radio"},"Label":"Command Type","Name":"CommandType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"Non-Interactive","ObjectType":"workflow.EnumEntry","Value":"NonInteractiveCmd"},{"Label":"Interactive","ObjectType":"workflow.EnumEntry","Value":"InteractiveCmd"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"ExpectPrompt","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Expect prompts required as part of command execution. It is a collection of ExpectPrompt type.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Expect Prompts","Max":10,"Min":1,"Name":"ExpectPrompts","ObjectType":"workflow.ArrayDataType","Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The regular expression of the Shell Prompt of the remote server or target. You must provide the complete regular expression of the Shell Prompt and it must end with special character '$' to match the end of the Shell Prompt string.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Shell Prompt","Name":"ShellPrompt","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":".*\\$$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"This data type takes information about a parameter that needs to be extracted from an API response in Generic API tasks.","Label":"Response Parameter","Name":"TextResponseParameter","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is '$&lt;Name of the parameter&gt;'. For example, if we need to capture 'intersight' in the sample response 'intersight@cisco.com', the regular expression must be $&lt;Name&gt;\\@cisco\\.com where 'Name' is the name given to the captured parameter.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Regular Expression","Name":"RegexLine","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the output under which the captured value is saved. This is the same name that needs to be given in the capture group in the Regular Expression field. For example, if the value of the Regular Expression field is $&lt;ParameterName&gt;\\@cisco\\.com, then the Name field must be given the value - ParameterName.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The response parameter type - String, Integer, Float, Boolean. The default value is String.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Type","Name":"Type","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"ResponseParameterTypeEnum","ObjectType":"workflow.CustomDataProperty"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Response parser framework supports extraction of required values from API/device responses. These responses may be of various content types such as XML, JSON, etc. The values of importance are modeled as parameters in the response parser framework.\nThe parameters can be of a scalar value type or a collection of values. A group of related parameters can be modeled as a single complex type parameter. These complex types will be very useful to extract a set of repeating group of related parameters.\nA response parser specification defines the set of parameters that need to be extracted from the content. The response parser specification allows complex type definitions to be defined for any complex parameters.","Label":"Response Parser","Name":"TextResponseParserType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TextResponseParameter","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The collection of parameters that need to be extracted from the API response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Parameters","Max":10,"Min":1,"Name":"Parameters","ObjectType":"workflow.ArrayDataType"}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Executes SSH commands against the given endpoint. This task can be executed on targets added as SSH Endpoint or Ansible Endpoint in Intersight.\n","Label":"Invoke SSH Commands","Name":"InvokeSshCommands","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The external target on which the SSH commands are run. The SSH commands can be run only on targets added as SSH Endpoint or Ansible Endpoint target in Intersight and are in the connected state.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"External Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq SSHEndpoint or TargetType eq AnsibleEndpoint) and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The SSH commands that are run on the remote server along with the details of the SSH command.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"SSH Command","Name":"SshCommand","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"SshCommandType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The command timeout in seconds for the execution of the command against the given endpoint. The default command timeout is 600 seconds. Range is from 10 to 7200 seconds.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Command Timeout","Name":"Timeout","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":7200,"Min":10,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The list of expected command exit codes of the execution of the command against the given endpoint. Default exit code of 0 is used to determine the status of command execution when this input is not provided.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Expected Exit Codes","Max":10,"Name":"ExpectedExitCodes","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Set this value to True if the entire command response needs to be displayed as part of the task output. Default value is false.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Show Command Output","Name":"ShowCommandOutput","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The structure of the response parser which provides the list of values that need to be extracted from the response.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Response Parser","Name":"ResponseParser","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"TextResponseParserType","ObjectType":"workflow.CustomDataProperty"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The exit code after the execution of the command against the given endpoint.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Exit Code","Name":"ExitCode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The complete response after the execution of the command against the given endpoint.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Command Output","Name":"CommandOutput","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Captures the error encountered while executing the command.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Command Execution Error","Name":"CommandExecutionError","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The extracted parameters after the execution of the command against the given endpoint.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Extracted Parameters","Name":"ExtractedParameters","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":7200,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SecurePropAccess":true,"SharedScope":"shared","Tags":[{"Key":"category","Value":"Executors"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Gets the IP of a VMware Virtual Machine","Label":"Mount ISO on VM from Datastore","Name":"MountISOonVMfromDatastore","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine Name","Name":"vmname","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"vCenter Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"vCenter","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(((TargetType eq VmwareVcenter) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"ISO Name","Name":"ISOName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"IP Address of the VM as exposed by vmtools","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine Mac","Max":16,"Min":1,"Name":"mac","ObjectType":"workflow.ArrayDataType","Required":true}],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"user","Tags":[{"Key":"category","Value":"Virtualization"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"This Workflow will\n1. Create Red Hat and OpenShift Targets\n2. Create an OpenShift cluster in Red Hat's Hybrid Cloud Console and get the custom generated ISO\n3.  Added vmware and SNO options","InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJhZDUyMjdhMy1iY2ZkLTRjZjAtYTdiNi0zOTk4MzVhMDg1NjYifQ.eyJpYXQiOjE2ODAwNTQ4NTMsImp0aSI6ImU4Y2MwMWQwLWM2YWItNDFmYi1iOWYwLTA1YTEzYTZmYTI3ZCIsImlzcyI6Imh0dHBzOi8vc3NvLnJlZGhhdC5jb20vYXV0aC9yZWFsbXMvcmVkaGF0LWV4dGVybmFsIiwiYXVkIjoiaHR0cHM6Ly9zc28ucmVkaGF0LmNvbS9hdXRoL3JlYWxtcy9yZWRoYXQtZXh0ZXJuYWwiLCJzdWIiOiJmOjUyOGQ3NmZmLWY3MDgtNDNlZC04Y2Q1LWZlMTZmNGZlMGNlNjptYXJrcHNtaSIsInR5cCI6Ik9mZmxpbmUiLCJhenAiOiJjbG91ZC1zZXJ2aWNlcyIsIm5vbmNlIjoiYzczMzI2MjktMjBhYS00MTUzLTgwOGQtY2Y0OWE2ODhiYzY3Iiwic2Vzc2lvbl9zdGF0ZSI6IjM2YTUyNzVkLTYzNWItNGJmNS1hYTRiLTE4MGYyYTBiNmRlOCIsInNjb3BlIjoib3BlbmlkIGFwaS5pYW0uc2VydmljZV9hY2NvdW50cyBhcGkuaWFtLm9yZ2FuaXphdGlvbiBvZmZsaW5lX2FjY2VzcyIsInNpZCI6IjM2YTUyNzVkLTYzNWItNGJmNS1hYTRiLTE4MGYyYTBiNmRlOCJ9.4C-h8eHIxc_Q1cFUCg7c3-9DTn33H_fEF-bckWI4XOo"},"Description":"You can get your Token from https://console.redhat.com/openshift/token/show","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Redhat API Token","Name":"OFFLINE_TOKEN","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The name of the Openshift Cluster you want to create","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster name","Name":"CLUSTER_NAME","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":54,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-z-]?[a-z-0-9\\-\\.]+[a-z-]?$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The domain name that is used for the Openshift Cluster","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Base domain","Name":"DOMAIN_NAME","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":3,"ObjectType":"workflow.Constraints","Regex":"^[a-z-]*\\.[a-z-]*$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"4.11"},"Description":"The version of OpenShift you would like to install","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"OpenShift version","Name":"VERSION","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"4.12 - Developer Preview Release","ObjectType":"workflow.EnumEntry","Value":"4.12"},{"Label":"4.11","ObjectType":"workflow.EnumEntry","Value":"4.11"},{"Label":"4.10","ObjectType":"workflow.EnumEntry","Value":"4.10"},{"Label":"4.9","ObjectType":"workflow.EnumEntry","Value":"4.9"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Your public key that will be added to the hosts for the 'core' user","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"SSH public key","Name":"SSH_PUB_KEY","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":false},"Description":"Deploy to Single Node","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Single Node","Name":"SingleNode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Additional NTP servers to use. Leave empty to use default RHCOS internet NTP servers","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NTP servers","Name":"NTP_SERVERS","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"enable this specify static IP, VLAN or bonding. Leave empty for DHCP","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Static IP","Name":"STATIC","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":0},"Description":"The VLAN ID to use. Leave empty for no VLAN configuration","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VLAN ID","Name":"VLAN_ID","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":4096,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"172.16.48.0/20"},"Description":"machine network cidr (x.x.x.x/x)","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Machine Network CIDR","Name":"MachineCIDR","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":["eth0","eth1"]},"Description":"When creating a bond please add multiple NIC's using the plus sign","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NIC - add 2 or more to create a bond","Max":4,"Min":1,"Name":"NIC","ObjectType":"workflow.ArrayDataType","Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Length of your network prefix. For example 24","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Network Prefix Length","Name":"PREFIX_LENGTH","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":32,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"active-backup"},"Description":"The mode in which you would like to bond the NICs. Please check here for more details https://docs.openshift.com/container-platform/4.9/networking/k8s_nmstate/k8s-nmstate-updating-node-network-config.html#virt-example-bond-nncp_k8s_nmstate-updating-node-network-config","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Link aggregation mode - only required for bonding","Name":"BOND_MODE","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"active-backup","ObjectType":"workflow.EnumEntry","Value":"active-backup"},{"Label":"balance-xor","ObjectType":"workflow.EnumEntry","Value":"balance-xor"},{"Label":"802.3ad - LACP","ObjectType":"workflow.EnumEntry","Value":"802.3ad"},{"Label":"balance-tlb","ObjectType":"workflow.EnumEntry","Value":"balance-tlb"},{"Label":"balance-alb","ObjectType":"workflow.EnumEntry","Value":"balance-alb"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"DNS Server is used to get the hostnames of your hosts with a reverse IP lookup.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"DNS","Name":"DNS_SERVER","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Your gateway to Valhalla","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Gateway","Name":"GATEWAY","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of IP's to use for the OpenShift servers. Click the plus sign to add more.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IP Addresses","Max":16,"Min":1,"Name":"IPS","ObjectType":"workflow.ArrayDataType","Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":["00:50:56:90:aa:4b"]},"Description":"A list of the MAC Addresses of the servers","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"MAC Address List","Max":16,"Min":1,"Name":"MAC_ADDRESS","ObjectType":"workflow.ArrayDataType","Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The IP Address that will be assigned to the Kubernetes API","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"API IP Address","Name":"API_IP","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The IP Address that will be assigned to the ingress gateway","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Ingress IP Address","Name":"INGRESS_IP","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"10.128.0.0/14"},"Description":"The CIDR used for the POD network","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"POD CIDR","Name":"POD_CIDR","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"172.30.0.0/16"},"Description":"The CIDR used for the service network","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Service CIDR","Name":"SERVICE_CIDR","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Run virtual machines alongside containers on one platform. Additional Requirements      Enabled CPU virtualization support in BIOS (Intel-VT / AMD-V) on all nodes     Each worker node requires an additional 360 MiB of memory and 2 CPUs     Each control plane node requires an additional 150 MiB of memory and 4 CPUs     OpenShift Data Foundation (recommended for full functionality) or another persistent storage service","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Install OpenShift Virtualization","Name":"OSV","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Persistent software-defined storage for hybrid applications. ","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Install OpenShift Data Foundation","Name":"ODF","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"baremetal"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Platform","Name":"Platform","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"baremetal","ObjectType":"workflow.EnumEntry","Value":"baremetal"},{"Label":"vsphere","ObjectType":"workflow.EnumEntry","Value":"vsphere"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}}],"InputParameterSet":[{"Condition":"eq","ControlParameter":"STATIC","EnableParameters":["VLAN_ID","NIC","BOND_MODE","PREFIX_LENGTH","GATEWAY","DNS_SERVER","IPS","MAC_ADDRESS"],"Name":"STATIC","ObjectType":"workflow.ParameterSet","Value":"true"}],"Label":"Create OpenShift Cluster v2","Name":"CreateOpenShiftClusterv2","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The URL to the ISO provided by Red Hat","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"ISO_URL","Name":"ISO_URL","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The ID of the Cluster","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster ID","Name":"CLUSTER_ID","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"OutputParameters":{"CLUSTER_ID":"${createOpenshiftCluster.output.Parameters.CLUSTER_ID}","ISO_URL":"${InvokeGenericWebApi1.output.Parameters.ISO_URL}"},"Properties":{"EnableDebug":true,"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tags":[{"Key":"category","Value":"Compute"}],"Tasks":[{"Name":"StartTask","NextTask":"RHTarget","ObjectType":"workflow.StartTask"},{"CatalogMoid":"shared","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.'h","InputParameters":{"ContentType":"json","Headers":{"Accept":"application/json, text/plain, */*"},"Method":"POST","ResponseParser":{"Parameters":[{"Name":"RH_TOKEN","Path":"$","Type":"json"}]},"Target":"${OpenshiftTarget.output.Target}","Url":"/api/accounts_mgmt/v1/access_token"},"Label":"Get Access Tokens","Name":"getAccessTokens","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"createOpenshiftCluster","TaskDefinitionName":"InvokeGenericWebApi","VariableParameters":{},"Version":2},{"CatalogMoid":"shared","Description":"Unclaims the target endpoint from Intersight. When a target is unclaimed, it is immediately detached from the corresponding Intersight account. The target retains any configuration applied before the unclaim operation. You can unclaim any type of target endpoints. ","InputParameters":{"Target":"${OpenshiftTarget.output.Target}"},"Label":"Remove Openshift API Target","Name":"removeOpenshiftTarget","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"removeRHTarget","TaskDefinitionName":"RemoveTarget","Version":1},{"CatalogMoid":"shared","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","InputParameters":{"Body":{"ContentType":"text","Text":"{\n  \"name\": \"{{.global.workflow.input.CLUSTER_NAME}}\",\n  \"high_availability_mode\": {{ if .global.workflow.input.SingleNode}}\"None\"{{else}}\"Full\"{{end}},\n  \"openshift_version\": \"{{.global.workflow.input.VERSION}}\",\n  \"pull_secret\": \"{{.global.getAccessTokens.output.Parameters.RH_TOKEN | ToJson | js | js}}\",\n  \"base_dns_domain\": \"{{.global.workflow.input.DOMAIN_NAME}}\",\n  \"cpu_architecture\": \"x86_64\",\n  \"disk_encryption\": {\n    \"mode\": \"tpmv2\",\n    \"enable_on\": \"none\"\n  },\n  \"network_type\": {{ if not .global.workflow.input.SingleNode}}\"OpenShiftSDN\"{{else}}\"OVNKubernetes\"{{end}},\n  \"api_vip\": \"{{.global.workflow.input.API_IP}}\",\n  \"ingress_vip\": \"{{.global.workflow.input.INGRESS_IP}}\",\n  \"ssh_public_key\": \"{{.global.workflow.input.SSH_PUB_KEY}}\",\n  \"vip_dhcp_allocation\": false,\n  \"machine_networks\": [{ \"cidr\": \"{{.global.workflow.input.MachineCIDR}}\" }],\n  \"cluster_networks\": [{ \"cidr\": \"{{.global.workflow.input.POD_CIDR}}\", \"host_prefix\": 23 }],\n  \"service_networks\": [{ \"cidr\": \"{{.global.workflow.input.SERVICE_CIDR}}\" }],\n  \"olm_operators\":[{{ if .global.workflow.input.OSV }}{\"name\":\"cnv\"}{{end}}{{ if and .global.workflow.input.ODF .global.workflow.input.OSV }},{{end}}{{if .global.workflow.input.ODF }}{\"name\":\"ocs\"}{{end}}]\n}"},"ContentType":"json","Headers":{"Content-Type":"application/json","accept":"application/json"},"Method":"POST","ResponseParser":{"Parameters":[{"Name":"CLUSTER_ID","Path":"$.id","Type":"string"}]},"Target":"${OpenshiftTarget.output.Target}","Url":"/api/assisted-install/v2/clusters/"},"Label":"Create Openshift Cluster","Name":"createOpenshiftCluster","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"createInfraEnv","TaskDefinitionName":"InvokeGenericWebApi","Version":2},{"CatalogMoid":"shared","Description":"Claims a new target endpoint in Intersight. The supported target types are HTTP , SSH, Powershell and Ansible endpoint.","InputParameters":{"ClaimTargetOptions":{"AuthenticationRequired":false,"ConnectViaAssist":false,"EnableHTTPSProtocol":true,"TargetType":"HTTPEndpoint"},"Host":"sso.redhat.com","Name":"Redhat SSO","Port":443},"Label":"Add Redhat SSO Target","Name":"RHTarget","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"GetRedHatJWT1","TaskDefinitionName":"NewTarget","Version":1},{"CatalogMoid":"shared","Description":"Unclaims the target endpoint from Intersight. When a target is unclaimed, it is immediately detached from the corresponding Intersight account. The target retains any configuration applied before the unclaim operation. You can unclaim any type of target endpoints. ","InputParameters":{"Target":"${RHTarget.output.Target}"},"Label":"Remove Redhat SSO Target","Name":"removeRHTarget","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"RemoveTarget","Version":1},{"CatalogMoid":"shared","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","InputParameters":{"Body":{"ContentType":"text","Text":"{\n\t\"name\": \"{{.global.workflow.input.CLUSTER_NAME}}_infra-env\",\n\t\"pull_secret\": \"{{.global.getAccessTokens.output.Parameters.RH_TOKEN | ToJson | js | js}}\",\n\t\"cluster_id\": \"{{.global.createOpenshiftCluster.output.Parameters.CLUSTER_ID}}\",\n\t\"ssh_authorized_key\": \"{{.global.workflow.input.SSH_PUB_KEY}}\",\n\t\"image_type\": \"minimal-iso\",\n\t\"openshift_version\": \"4.11\",\n\t\"cpu_architecture\": \"x86_64\"{{- if .global.workflow.input.NTP_SERVERS}},\n\t\"additional_ntp_sources\": \"{{.global.workflow.input.NTP_SERVERS }}\"{{- end}}\n\t{{- if .global.workflow.input.STATIC}},\n\t\"static_network_config\": [\n\t{{- $NAME := (index .global.workflow.input.NIC 0) }}\n\t{{- $TYPE := `ethernet` }}\n\t{{- if ge (len .global.workflow.input.NIC) 2 -}}\n\t\t{{- $NAME = `bond0` -}}\n\t\t{{- $TYPE = `bond` -}}\n\t{{- else -}}\n\t\t{{- $NAME = (index .global.workflow.input.NIC 0) -}}\n\t\t{{- $TYPE = `ethernet` -}}\n\t{{- end -}}\n\t{{- $INPUT := .global.workflow.input }}\n\t{{- range $index, $mac := .global.workflow.input.MAC_ADDRESS}}\n\t{{- if $index}},{{end}}\n\t{\n\t\t\"network_yaml\": \"#Generated by Intersight\\ninterfaces:\\n  - name: {{ $NAME }}\\n    type: {{ $TYPE }}\\n    state: up\\n{{- if eq $TYPE `bond` }}    link-aggregation:\\n      mode: {{ $INPUT.BOND_MODE }}\\n      options:\\n        miimon: '140'\\n      port:\\n  {{- range $port := $INPUT.NIC }}      - {{ $port }}\\n {{- end}}{{- end}}{{- if $INPUT.VLAN_ID}}  - name: {{ $NAME }}.{{$INPUT.VLAN_ID}}\\n    type: vlan\\n    state: up\\n    vlan:\\n      base-iface: {{$NAME}}\\n      id: {{$INPUT.VLAN_ID}}\\n{{- end}}    ipv4:\\n      address:\\n        - ip: {{index $INPUT.IPS $index}}\\n          prefix-length: {{$INPUT.PREFIX_LENGTH}}\\n      enabled: true\\n      dhcp: false\\ndns-resolver:\\n  config:\\n    server:\\n      - {{$INPUT.DNS_SERVER}}\\nroutes:\\n  config:\\n    - destination: 0.0.0.0/0\\n      next-hop-address: {{$INPUT.GATEWAY}}\\n      next-hop-interface: {{$NAME}}{{if $INPUT.VLAN_ID}}.{{$INPUT.VLAN_ID}}{{end}}\\n      table-id: 254\\n\",\n\t\t\"mac_interface_map\": [\n\t\t{\n\t\t\t\"mac_address\": \"{{$mac}}\",\n\t\t\t\"logical_nic_name\": \"{{$NAME}}\"\n\t\t}\n\t\t]\n\t}\n\t{{end}}\n\t]\n\t{{end}}\n}"},"ContentType":"json","Headers":{"Content-Type":"application/json","accept":"application/json"},"Method":"POST","ResponseParser":{"Parameters":[{"Name":"INFRA_ENV_ID","Path":"$.id","Type":"string"}]},"Target":"${OpenshiftTarget.output.Target}","Url":"/api/assisted-install/v2/infra-envs/"},"Label":"Create Infra Environment","Name":"createInfraEnv","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"InvokeGenericWebApi1","TaskDefinitionName":"InvokeGenericWebApi","Version":2},{"CatalogMoid":"user","Description":"Get's a JWT from Red Hat which you can use for 15 minutes","InputParameters":{"OFFLINE_TOKEN":"${workflow.input.OFFLINE_TOKEN}","Target":"${RHTarget.output.Target}"},"Label":"Get Red Hat Token","Name":"GetRedHatJWT1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"OpenshiftTarget","TaskDefinitionName":"GetRedHatJWT","Version":1},{"CatalogMoid":"shared","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","InputParameters":{"Method":"GET","ResponseParser":{"Parameters":[{"Name":"ISO_URL","Path":"$.download_url","Type":"string"}]},"Target":"${OpenshiftTarget.output.Target}","Url":"/api/assisted-install/v2/infra-envs/{{.global.createInfraEnv.output.Parameters.INFRA_ENV_ID}}"},"Label":"Get ISO URL","Name":"InvokeGenericWebApi1","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"removeOpenshiftTarget","TaskDefinitionName":"InvokeGenericWebApi","Version":2},{"CatalogMoid":"shared","Description":"Claims a new target endpoint in Intersight. The supported target types are HTTP , SSH, Powershell and Ansible endpoint.","InputParameters":{"ClaimTargetOptions":{"AuthenticationRequired":true,"ConnectViaAssist":false,"EnableHTTPSProtocol":true,"HTTPAuth":{"AuthenticationSchemeOptions":"Bearer Token","IsTokenSet":true,"Token":"{{ .global.GetRedHatJWT1.output.JWT }}"},"TargetType":"HTTPEndpoint"},"Host":"api.openshift.com","Name":"Ben Openshift API","Port":443},"Label":"Add Openshift API Target","Name":"OpenshiftTarget","ObjectType":"workflow.WorkerTask","OnFailure":"FailureEndTask","OnSuccess":"getAccessTokens","TaskDefinitionName":"NewTarget","Version":1},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":286.9972451874727,"Y":225.19129285594187},{"Name":"SuccessEndTask","X":1022.0911848894373,"Y":497.07996554800275},{"Name":"FailureEndTask","X":661.0228108778879,"Y":573.4711673186232},{"Name":"RHTarget","X":201.63042147131455,"Y":315.80258959218764},{"Name":"removeRHTarget","X":938.1614326411625,"Y":377.5280082289475},{"Name":"removeOpenshiftTarget","X":939.1675883914065,"Y":300.6328054374828},{"Name":"OpenshiftTarget","X":199.5003067441579,"Y":463.83365123638464},{"Name":"getAccessTokens","X":553.8559791080572,"Y":240.04037402955575},{"Name":"createOpenshiftCluster","X":568.3586542498932,"Y":307.208744767807},{"Name":"createInfraEnv","X":577.8333290644573,"Y":373.4533530824336},{"Name":"InvokeGenericWebApi1","X":554.0271136326821,"Y":457.2091487973332},{"Name":"GetRedHatJWT1","X":200.12123261930367,"Y":395.5}]},"VariableDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue","Value":"api.openshift.com"},"Description":"Relative URL for Intersight, Device Registration and Target APIs. Does not support specifying fully qualified URL.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"openshift_api","Name":"openshift_api","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Hypervisor Host.","Label":"ESXi Host","Name":"HypervisorHostType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":255,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^(([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])|(([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:([0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{0,4}|:[0-9A-Fa-f]{1,4})?|(:[0-9A-Fa-f]{1,4}){0,2})|(:[0-9A-Fa-f]{1,4}){0,3})|(:[0-9A-Fa-f]{1,4}){0,4})|:(:[0-9A-Fa-f]{1,4}){0,5})((:[0-9A-Fa-f]{1,4}){2}|:(25[0-5]|(2[0-4]|1[0-9]|[1-9])?[0-9])(\\\\.(25[0-5]|(2[0-4]|1[0-9]|[1-9])?[0-9])){3})|(([0-9A-Fa-f]{1,4}:){1,6}|:):[0-9A-Fa-f]{0,4}|([0-9A-Fa-f]{1,4}:){7}:)|[a-zA-Z0-9]+([a-zA-Z0-9-._]*[a-zA-Z0-9]))$"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseHost)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Folder","Label":"VM and Template Folder","Name":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseFolder)and(TypeofFolder eq 'VMTemplateFolder')and(Internal eq 'false') &$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Datastore.","Label":"Datastore","Name":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseDatastore)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Definition for a Virtual Machine Network","Label":"Network","Name":"Network","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Network","Name":"Network","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Host.Name","VirtualSwitch.Name","DistributedSwitch.Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseNetwork)and(IndexMotypes ne virtualization.BaseKernelNetwork)and(('ClassId' eq 'virtualization.VmwareNetwork') or (('ClassId' eq 'virtualization.VmwareDistributedNetwork')and('UpLink' eq 'false')))&$expand=Host($select=Name),VirtualSwitch($select=Name),DistributedSwitch($select=Name)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Name"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a VirtualMachine.","Label":"VirtualMachine","Name":"VirtualMachineType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VirtualMachine","Name":"VirtualMachine","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath","PowerState","Host.Name","GuestInfo.OperatingSystem"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseVirtualMachine)and(IsTemplate eq 'false')&$expand=Host($select=Name)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","Description":"Type definition for a Public Cloud Virtual Machine.","Label":"Cloud Virtual Machine Details","Name":"CloudVirtualMachineType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VirtualMachine","Name":"VirtualMachine","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":80,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","Identity","Region.RegionId"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/cloud/AwsVirtualMachines?$filter=(State ne Terminated)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Identity"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Platforms supported for virtualization target devices","Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[{"Condition":"eq","ControlParameter":"VirtualizationPlatformType","EnableParameters":["VmIdentity"],"Name":"ShowParamsForAmazonWebService","ObjectType":"workflow.ParameterSet","Value":"AmazonWebService"},{"Condition":"eq","ControlParameter":"VirtualizationPlatformType","EnableParameters":["VM","ForceDelete"],"Name":"ShowParamsForHyperFlexAP","ObjectType":"workflow.ParameterSet","Value":"HyperFlexAP"},{"Condition":"eq","ControlParameter":"VirtualizationPlatformType","EnableParameters":["VM","Datacenter","Folder","ForceDelete"],"Name":"ShowParamsForVmwareVcenter","ObjectType":"workflow.ParameterSet","Value":"VmwareVcenter"},{"Condition":"eq","ControlParameter":"VirtualizationPlatformType","EnableParameters":["VM","ForceDelete"],"Name":"ShowParamsForIWE","ObjectType":"workflow.ParameterSet","Value":"IWE"}],"Properties":{"ExternalMeta":true,"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"shared","TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type for virtualization target device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"PlatformType AmazonWebService","ObjectType":"workflow.EnumEntry","Value":"AmazonWebService"},{"Label":"PlatformType HyperFlexAP","ObjectType":"workflow.EnumEntry","Value":"HyperFlexAP"},{"Label":"PlatformType VmwareVcenter","ObjectType":"workflow.EnumEntry","Value":"VmwareVcenter"},{"Label":"PlatformType IWE","ObjectType":"workflow.EnumEntry","Value":"IWE"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Identity of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cloud Virtual Machine","Name":"VmIdentity","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"CloudVirtualMachineType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter in which the virtual machine resides","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder in which the virtual machine resides","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","Description":"Deletes a virtual machine","Label":"Remove Virtual Machine","Name":"RemoveVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('HyperFlexAP', 'IWE', 'VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Virtualization"},{"Key":"platformType.VmwareVcenter","Value":"true"},{"Key":"platformType.AmazonWebService","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Create new virtual machine on the selected Hypervisor based on specifications in a virtual machine or template file. The inputs cluster (or host), datastore, and template name or virtual machine are mandatory. If folder name is specified, then virtual machine will be placed within the folder. On successful execution, name of virtual machine and template name or virtual machine are generated as outputs.","Label":"New Virtual Machine from Template or Clone from Virtual Machine","Name":"NewVirtualMachineFromTemplate","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the virtual machine will be provisioned. Either a cluster or a host must be specified.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder (optional) in which the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Resource pool for the new virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Resource Pool","Name":"ResourcePool","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datastore allocated for this virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Path of the template or virtual machine used to provision the virtual machine, template or virtual machine should be available locally in the hypervisor manager. When template or virtual machine is directly under a Datacenter  the template path or virtual machine path should be /<<DATACENTER>>/vm/<<TEMPLATE-NAME-or-VM-NAME>>\n\nWhen template or virtual machine is in a Datacenter and a Folder,  the template or virtual machine path should be /<<DATACENTER>>/vm/<<FOLDER>>/<<TEMPLATE-NAME-or-VM-Name>>\nFor example: Template 'Template1' in Datacenter 'DC1' should be /DC1/vm/Template1\nTemplate 'Template1' in Datacenter 'DC1' under a Folder 'Folder1', should be /DC1/vm/Folder1/Template1.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Template or Virtual Machine","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath","IsTemplate","PowerState"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseVirtualMachine)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Number of CPUs (optional) to allocate for the new virtual machine, if not provided will be taken from the template or virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"CPUs","Name":"CPUs","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":1000,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"GPU configurations to be applied on virtual machine","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"GPU configurations","Name":"GpuConfigs","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Memory (optional) allocation for the new virtual machine, in multiples of 4MB, if not provided will be taken from the template or virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Memory","Name":"Memory","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":100000,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Annotation (optional) for the virtual machine. If not specified, virtual machine will not have any annotation.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Annotation","Name":"Annotation","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If checked, virtual machine will be powered up after creation.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Power On","Name":"PowerOn","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Network to be mapped to the Virtual Machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Network","Name":"Network","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"Network","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"OVA environment customization spec as JSON.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"OVA Environment Spec","Name":"OVAEnvSpec","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Configuration parameters specified as JSON.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Configuration Parameters","Name":"ExtraConfig","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Datacenter where virtual machine was created.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which virtual machine runs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which virtual machine runs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name of the Template or Virtual Machine","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder Name for the new virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TaskId","Name":"TaskId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":256,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Beta","Timeout":100,"TimeoutPolicy":"Retry"},"RollbackTasks":[{"CatalogMoid":"shared","Description":"Remove provisioned virtual machine.","InputParameters":{"HypervisorManager":"${task.input.Vcenter}","VirtualizationPlatformType":"${task.output.VirtualizationPlatformType}"},"Name":"RemoveVirtualMachine","ObjectType":"workflow.RollbackTask","Version":3}],"SharedScope":"shared","Tags":[{"Key":"category","Value":"Virtualization"},{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Gets the IP of a VMware Virtual Machine","Label":"Get VMware Virtual Machine Mac","Name":"GetVMwareVirtualMachineMac","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Virtual Machine Name","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine Name","Name":"vmname","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"vCenter Target","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"vCenter","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(((TargetType eq VmwareVcenter) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"IP Address of the VM as exposed by vmtools","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine Mac","Max":16,"Min":1,"Name":"mac","ObjectType":"workflow.ArrayDataType","Required":true}],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"user","Tags":[{"Key":"category","Value":"Virtualization"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Remove a Windows DNS entry using PowerShell.  Primary use is as roll-back for Windows DNS add custom tasks.","Label":"WindowsDNSremove","Name":"WindowsDNSremove","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The PowerShell endpoint on which the script is to be executed. PowerShell Remoting must be enabled on the endpoint to allow for scripts to be executed remotely.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Dropdown"},"Label":"External Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"HostName","Name":"HostName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IP address","Name":"IPaddress","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Zone Name","Name":"ZoneName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The exit status code of the script execution.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Exit Code","Name":"ExitCode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}}],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SharedScope":"user","Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Add a Windows DNS A host record using PowerShell with the associated PTR record.","Label":"WindowsDNSaddWithPTR","Name":"WindowsDNSaddWithPTR","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The PowerShell endpoint on which the script is to be executed. PowerShell Remoting must be enabled on the endpoint to allow for scripts to be executed remotely.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Dropdown"},"Label":"External Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"HostName","Name":"HostName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IP address","Name":"IPaddress","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Zone Name","Name":"ZoneName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The exit status code of the script execution.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Exit Code","Name":"ExitCode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}}],"RetryCount":3,"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":600,"TimeoutPolicy":"Timeout"},"RollbackTasks":[{"CatalogMoid":"user","Description":"Remove a Windows DNS entry using PowerShell.  Primary use is as roll-back for Windows DNS add custom tasks.","InputParameters":{"HostName":"${task.input.HostName}","IPaddress":"${task.input.IPaddress}","Target":"${task.input.Target}","ZoneName":"${task.input.ZoneName}"},"Name":"WindowsDNSremove","ObjectType":"workflow.RollbackTask","Version":1}],"SharedScope":"user","Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"172.16.58.100"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"API Virtual IP","Name":"APIIP","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"172.16.58.101"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Ingress Virtual IP","Name":"IngressIP","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"openshiftcluster1"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"OpenShift Cluster Name","Name":"ClusterName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints","Regex":"[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"glasshouse.com"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Base Domain","Name":"BaseDomain","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Only 1 IP for Single Node and 3 IPs for HA","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NodeIPs","Max":16,"Min":1,"Name":"NodeIPs","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Single Node","Name":"SingleNode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The PowerShell endpoint on which the script is to be executed. PowerShell Remoting must be enabled on the endpoint to allow for scripts to be executed remotely.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Dropdown"},"Label":"Acitve_Directory_Server","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true}],"InputParameterSet":[],"Label":"Create DNS for Openshift Cluster","Name":"MarksCreateDNSforOpenshiftCluster","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"Properties":{"EnableDebug":true,"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","Retryable":true,"SupportStatus":"Supported"},"SharedScope":"user","Tags":[{"Key":"Dev","Value":"Ben"}],"Tasks":[{"Name":"StartTask","NextTask":"conditional1","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"user","Description":"Add a Windows DNS A host record using PowerShell with the associated PTR record.","InputParameters":{"HostName":"api.{{.global.workflow.input.ClusterName}}","IPaddress":"${workflow.input.APIIP}","Target":"${workflow.input.Target}","ZoneName":"${workflow.input.BaseDomain}"},"Label":"Add API DNS Entry","Name":"WindowsDNSaddWithPTR1","ObjectType":"workflow.WorkerTask","OnSuccess":"WindowsDNSaddWithPTR2","TaskDefinitionName":"WindowsDNSaddWithPTR","Version":1},{"CatalogMoid":"user","Description":"Add a Windows DNS A host record using PowerShell with the associated PTR record.","InputParameters":{"HostName":"*.apps.{{.global.workflow.input.ClusterName}}","IPaddress":"${workflow.input.IngressIP}","Target":"${workflow.input.Target}","ZoneName":"${workflow.input.BaseDomain}"},"Label":"Add APP DNS Entry","Name":"WindowsDNSaddWithPTR2","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"WindowsDNSaddWithPTR","Version":1},{"Condition":"${workflow.input.SingleNode}","DecisionCases":[{"Description":"SingleNode","NextTask":"WindowsDNSaddWithPTR3","ObjectType":"workflow.DecisionCase","Value":"true"}],"DefaultTask":"WindowsDNSaddWithPTR1","Description":"A Conditional is a control task that provides workflow designers control over the workflow execution path based on the specified condition.  The condition is an expression that when evaluated must result in a boolean or a string value.  The expression can refer to workflow inputs and task outputs.  The designer can specify one or more results for the expression evaluation and for each result, the sequence of tasks to be executed must be provided.  A Conditional always has a default path that will be used when the results of the expression don't match any of the results provided by the designer.","Label":"Conditional Task","Name":"conditional1","ObjectType":"workflow.DecisionTask"},{"CatalogMoid":"user","Description":"Add a Windows DNS A host record using PowerShell with the associated PTR record.","InputParameters":{"HostName":"api.{{.global.workflow.input.ClusterName}}","IPaddress":"{{index .global.workflow.input.NodeIPs 0}}","Target":"${workflow.input.Target}","ZoneName":"${workflow.input.BaseDomain}"},"Label":"ADD IP DNS Entry","Name":"WindowsDNSaddWithPTR3","ObjectType":"workflow.WorkerTask","OnSuccess":"WindowsDNSaddWithPTR4","TaskDefinitionName":"WindowsDNSaddWithPTR","Version":1},{"CatalogMoid":"user","Description":"Add a Windows DNS A host record using PowerShell with the associated PTR record.","InputParameters":{"HostName":"*.apps.{{.global.workflow.input.ClusterName}}","IPaddress":"{{index .global.workflow.input.NodeIPs 0}}","Target":"${workflow.input.Target}","ZoneName":"${workflow.input.BaseDomain}"},"Label":"WindowsDNSaddWithPTR","Name":"WindowsDNSaddWithPTR4","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"WindowsDNSaddWithPTR","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":366.53002928360564,"Y":97.43966879235256},{"Name":"SuccessEndTask","X":271.4018188384695,"Y":510.87727233310204},{"Name":"FailureEndTask","X":492.7765424390925,"Y":517.7067777835482},{"Name":"WindowsDNSaddWithPTR1","X":287.7733411638832,"Y":315.1521799173718},{"Name":"WindowsDNSaddWithPTR2","X":285.6840574109764,"Y":414.7638043023537},{"Name":"conditional1","X":302.5075956099726,"Y":165},{"Name":"WindowsDNSaddWithPTR3","X":685.9426517881449,"Y":267},{"Name":"WindowsDNSaddWithPTR4","X":703.9955237777045,"Y":344}]},"VariableDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"config","Name":"config","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"escapedPullSecret","Name":"escapedPullSecret","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Only tested with static IP. Tested for node cluster and single node","InputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The name of the Openshift Cluster you want to create","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster name","Name":"CLUSTER_NAME","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":54,"Min":1,"ObjectType":"workflow.Constraints","Regex":"^[a-z-]?[a-z-0-9\\-\\.]+[a-z-]?$"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"4.11"},"Description":"The version of OpenShift you would like to install","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"OpenShift version","Name":"VERSION","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"4.12 - Developer Preview Release","ObjectType":"workflow.EnumEntry","Value":"4.12"},{"Label":"4.11","ObjectType":"workflow.EnumEntry","Value":"4.11"},{"Label":"4.10","ObjectType":"workflow.EnumEntry","Value":"4.10"},{"Label":"4.9","ObjectType":"workflow.EnumEntry","Value":"4.9"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"enable this specify static IP, VLAN or bonding. Leave empty for DHCP","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Static IP","Name":"STATIC","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":false},"Description":"Deploy to Single Node","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Single Node","Name":"SingleNode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"172.16.50.254"},"Description":"Your gateway to Valhalla","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Gateway","Name":"GATEWAY","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"List of IP's to use for the OpenShift servers. Click the plus sign to add more.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"IP Addresses","Max":16,"Min":1,"Name":"IPS","ObjectType":"workflow.ArrayDataType","Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The IP Address that will be assigned to the Kubernetes API","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"API IP Address","Name":"API_IP","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The IP Address that will be assigned to the ingress gateway","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Ingress IP Address","Name":"INGRESS_IP","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Override":true,"Value":"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJhZDUyMjdhMy1iY2ZkLTRjZjAtYTdiNi0zOTk4MzVhMDg1NjYifQ.eyJpYXQiOjE2ODAwNTQ4NTMsImp0aSI6ImU4Y2MwMWQwLWM2YWItNDFmYi1iOWYwLTA1YTEzYTZmYTI3ZCIsImlzcyI6Imh0dHBzOi8vc3NvLnJlZGhhdC5jb20vYXV0aC9yZWFsbXMvcmVkaGF0LWV4dGVybmFsIiwiYXVkIjoiaHR0cHM6Ly9zc28ucmVkaGF0LmNvbS9hdXRoL3JlYWxtcy9yZWRoYXQtZXh0ZXJuYWwiLCJzdWIiOiJmOjUyOGQ3NmZmLWY3MDgtNDNlZC04Y2Q1LWZlMTZmNGZlMGNlNjptYXJrcHNtaSIsInR5cCI6Ik9mZmxpbmUiLCJhenAiOiJjbG91ZC1zZXJ2aWNlcyIsIm5vbmNlIjoiYzczMzI2MjktMjBhYS00MTUzLTgwOGQtY2Y0OWE2ODhiYzY3Iiwic2Vzc2lvbl9zdGF0ZSI6IjM2YTUyNzVkLTYzNWItNGJmNS1hYTRiLTE4MGYyYTBiNmRlOCIsInNjb3BlIjoib3BlbmlkIGFwaS5pYW0uc2VydmljZV9hY2NvdW50cyBhcGkuaWFtLm9yZ2FuaXphdGlvbiBvZmZsaW5lX2FjY2VzcyIsInNpZCI6IjM2YTUyNzVkLTYzNWItNGJmNS1hYTRiLTE4MGYyYTBiNmRlOCJ9.4C-h8eHIxc_Q1cFUCg7c3-9DTn33H_fEF-bckWI4XOo"},"Description":"You can get your Token from https://console.redhat.com/openshift/token/show","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Redhat API Token","Name":"OFFLINE_TOKEN","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"glasshouse.com"},"Description":"The domain name that is used for the Openshift Cluster","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Base domain","Name":"DOMAIN_NAME","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":63,"Min":3,"ObjectType":"workflow.Constraints","Regex":"(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMuIoIWBnRyugOWVcZS06ZQPL4jtmefVMJoZ+SYb2JwO eddsa-key-20210923"},"Description":"Your public key that will be added to the hosts for the 'core' user","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"SSH public key","Name":"SSH_PUB_KEY","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The VLAN ID to use. Leave empty for no VLAN configuration","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VLAN ID","Name":"VLAN_ID","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":4096,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"172.16.50.35"},"Description":"Additional NTP servers to use. Leave empty to use default RHCOS internet NTP servers","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NTP servers","Name":"NTP_SERVERS","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"MLOM"},"Description":"something like \"L\" or \"MLOM\"","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Adapter ID Name","Name":"AdapterID","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue","Value":["eth0"]},"Description":"When creating a bond please add multiple NIC's using the plus sign","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"NIC name - add 2 or more to create a bond - not properly tested","Max":4,"Min":1,"Name":"NIC","ObjectType":"workflow.ArrayDataType","Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"active-backup"},"Description":"The mode in which you would like to bond the NICs. Please check here for more details https://docs.openshift.com/container-platform/4.9/networking/k8s_nmstate/k8s-nmstate-updating-node-network-config.html#virt-example-bond-nncp_k8s_nmstate-updating-node-network-config","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Link aggregation mode - only required for bonding","Name":"BOND_MODE","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[{"Label":"active-backup","ObjectType":"workflow.EnumEntry","Value":"active-backup"},{"Label":"balance-xor","ObjectType":"workflow.EnumEntry","Value":"balance-xor"},{"Label":"802.3ad - LACP","ObjectType":"workflow.EnumEntry","Value":"802.3ad"},{"Label":"balance-tlb","ObjectType":"workflow.EnumEntry","Value":"balance-tlb"},{"Label":"balance-alb","ObjectType":"workflow.EnumEntry","Value":"balance-alb"}],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"enum"}},{"Default":{"ObjectType":"workflow.DefaultValue","Value":20},"Description":"Length of your network prefix. For example 24","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Network Prefix Length","Name":"PREFIX_LENGTH","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":32,"Min":1,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"172.16.50.35"},"Description":"DNS Server is used to get the hostnames of your hosts with a reverse IP lookup.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"DNS","Name":"DNS_SERVER","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"IpV4AddressType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"10.128.0.0/14"},"Description":"The CIDR used for the POD network","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"POD CIDR","Name":"POD_CIDR","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"172.30.0.0/16"},"Description":"The CIDR used for the service network","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Service CIDR","Name":"SERVICE_CIDR","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Run virtual machines alongside containers on one platform. Additional Requirements      Enabled CPU virtualization support in BIOS (Intel-VT / AMD-V) on all nodes     Each worker node requires an additional 360 MiB of memory and 2 CPUs     Each control plane node requires an additional 150 MiB of memory and 4 CPUs     OpenShift Data Foundation (recommended for full functionality) or another persistent storage service","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Install OpenShift Virtualization","Name":"OSV","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Persistent software-defined storage for hybrid applications. ","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Install OpenShift Data Foundation","Name":"ODF","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue","Value":false},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Skip","Name":"skip","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue","Value":"172.16.48.0/20"},"Description":"machine network cidr (x.x.x.x/x)","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Machine Network CIDR","Name":"MachineCIDR","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"vCenter Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"vCenter Datastore","Name":"Datastore","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/virtualization/VmwareDatastores","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"Moid"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":" Template for Nodes. Single Node need 16 CPu 40 gig mem and 120 gig disk","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"VM Template ","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath","IsTemplate","PowerState"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseVirtualMachine)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"ESXi server in your cluster for Datastore access","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"ESXi Target","Name":"Target","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq SSHEndpoint or TargetType eq AnsibleEndpoint) and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The PowerShell endpoint on which the script is to be executed. PowerShell Remoting must be enabled on the endpoint to allow for scripts to be executed remotely.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"Dropdown"},"Label":"Powershell AD Target","Name":"ADTarget","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"vCenter Target","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true}],"InputParameterSet":[],"Label":"Provision Red Hat OpenShift on VMware","Name":"MarksProvisionRedHatOpenShiftv2","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[],"OutputParameters":{},"Properties":{"EnableDebug":true,"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","Retryable":true,"SupportStatus":"Supported"},"SharedScope":"user","Tags":[{"Key":"category","Value":"Compute"}],"Tasks":[{"Name":"StartTask","NextTask":"MarksCreateDNSforOpenshiftCluster1","ObjectType":"workflow.StartTask"},{"Count":"{{ len .global.workflow.input.IPS}}","Description":"A Parallel Loop is a control task that runs one task or one sub-workflow multiple times based on a specified count.  The count can be a static value that is specified during design time or a dynamic value that is derived from workflow inputs or task outputs.  When the loop is executed, the count 'N' is determined, N tasks or sub-workflows are scheduled for execution in parallel.  When all N instances of the task or sub-workflow reach a final state the parallel loop will complete and workflow execution will move on to the next task.  If any one of the tasks or sub-workflows fails, then the entire loop will fail.  Dynamic values for count must be specified as a template.  For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template '{{ len .global.workflow.input.StringArray }}'.  The iteration of the loop is available using the keyword '.iteration' and it can be used to control inputs that feed into the task.  For example, the task inside the loop needs to take one value from the workflow input StringArray, then the task string input can be mapped to the template '{{ index .global.workflow.input.StringArray .iteration}}' during design.","Label":"Boot Servers","LoopStartTask":"MountISOonVMfromDatastore1","Name":"parallelLoop2","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"InstallOpenShiftCluster1","Parallel":true},{"Count":"{{ len .global.workflow.input.IPS}}","Description":"A Parallel Loop is a control task that runs one task or one sub-workflow multiple times based on a specified count.  The count can be a static value that is specified during design time or a dynamic value that is derived from workflow inputs or task outputs.  When the loop is executed, the count 'N' is determined, N tasks or sub-workflows are scheduled for execution in parallel.  When all N instances of the task or sub-workflow reach a final state the parallel loop will complete and workflow execution will move on to the next task.  If any one of the tasks or sub-workflows fails, then the entire loop will fail.  Dynamic values for count must be specified as a template.  For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template '{{ len .global.workflow.input.StringArray }}'.  The iteration of the loop is available using the keyword '.iteration' and it can be used to control inputs that feed into the task.  For example, the task inside the loop needs to take one value from the workflow input StringArray, then the task string input can be mapped to the template '{{ index .global.workflow.input.StringArray .iteration}}' during design.","Label":"Create VMs","LoopStartTask":"NewVirtualMachineFromTemplate1","Name":"parallelLoop1","NumberOfBatches":1,"ObjectType":"workflow.LoopTask","OnSuccess":"serialLoop1","Parallel":true},{"CatalogMoid":"user","Description":"This Workflow will\n1. Validate if your cluster is ready for install \n2. Start the OpenShift installation","InputParameters":{"CLUSTER_ID":"${CreateOpenShiftClusterv21.output.CLUSTER_ID}","OFFLINE_TOKEN":"${workflow.input.OFFLINE_TOKEN}"},"Label":"Install OpenShift Cluster","Name":"InstallOpenShiftCluster1","ObjectType":"workflow.SubWorkflowTask","OnFailure":"FailureEndTask","OnSuccess":"SuccessEndTask","Version":1,"WorkflowDefinitionName":"InstallOpenShiftCluster"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Executes SSH commands against the given endpoint. This task can be executed on targets added as SSH Endpoint or Ansible Endpoint in Intersight.\n","InputParameters":{"SshCommand":{"Command":"esxcli network firewall set --enabled false; cd /vmfs/volumes/{{.global.workflow.variable.DatastoreName}}; wget -O {{.global.workflow.input.CLUSTER_NAME}}.iso '{{.global.CreateOpenShiftClusterv21.output.ISO_URL}}' --no-check-certificate","CommandType":"NonInteractiveCmd"},"Target":"${workflow.input.Target}"},"Label":"Copy discovery image to datastore","Name":"InvokeSshCommands1","ObjectType":"workflow.WorkerTask","OnSuccess":"parallelLoop2","TaskDefinitionName":"InvokeSshCommands","Version":1},{"CatalogMoid":"user","Description":"Gets the IP of a VMware Virtual Machine","InputParameters":{"Datastore":"{{.global.workflow.variable.DatastoreName}}","ISOName":"{{.global.workflow.input.CLUSTER_NAME}}.iso","Target":"${workflow.input.Vcenter}","vmname":"{{.global.workflow.input.CLUSTER_NAME}}-{{.iteration}}"},"Label":"Mount ISO on VM from Datastore","Name":"MountISOonVMfromDatastore1","ObjectType":"workflow.WorkerTask","TaskDefinitionName":"MountISOonVMfromDatastore","Version":1},{"CatalogMoid":"user","Description":"This Workflow will\n1. Create Red Hat and OpenShift Targets\n2. Create an OpenShift cluster in Red Hat's Hybrid Cloud Console and get the custom generated ISO\n3.  Added vmware and SNO options","InputParameters":{"API_IP":"${workflow.input.API_IP}","BOND_MODE":"${workflow.input.BOND_MODE}","CLUSTER_NAME":"${workflow.input.CLUSTER_NAME}","DNS_SERVER":"${workflow.input.DNS_SERVER}","DOMAIN_NAME":"${workflow.input.DOMAIN_NAME}","GATEWAY":"${workflow.input.GATEWAY}","INGRESS_IP":"${workflow.input.INGRESS_IP}","IPS":"${workflow.input.IPS}","MAC_ADDRESS":"${workflow.variable.macs}","MachineCIDR":"${workflow.input.MachineCIDR}","NIC":"${workflow.input.NIC}","NTP_SERVERS":"${workflow.input.NTP_SERVERS}","ODF":"${workflow.input.ODF}","OFFLINE_TOKEN":"${workflow.input.OFFLINE_TOKEN}","OSV":"${workflow.input.OSV}","POD_CIDR":"${workflow.input.POD_CIDR}","PREFIX_LENGTH":"${workflow.input.PREFIX_LENGTH}","SERVICE_CIDR":"${workflow.input.SERVICE_CIDR}","SSH_PUB_KEY":"${workflow.input.SSH_PUB_KEY}","STATIC":"${workflow.input.STATIC}","SingleNode":"${workflow.input.SingleNode}","VERSION":"${workflow.input.VERSION}","VLAN_ID":"${workflow.input.VLAN_ID}"},"Label":"Create OpenShift Cluster v2","Name":"CreateOpenShiftClusterv21","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeSshCommands1","Version":1,"WorkflowDefinitionName":"CreateOpenShiftClusterv2"},{"CatalogMoid":"shared","Description":"Create new virtual machine on the selected Hypervisor based on specifications in a virtual machine or template file. The inputs cluster (or host), datastore, and template name or virtual machine are mandatory. If folder name is specified, then virtual machine will be placed within the folder. On successful execution, name of virtual machine and template name or virtual machine are generated as outputs.","InputParameters":{"Cluster":"${workflow.input.Cluster}","Datacenter":"${workflow.input.Datacenter}","Datastore":"${workflow.variable.DatastorePath}","Name":"{{.global.workflow.input.CLUSTER_NAME}}-{{.iteration}}","Template":"${workflow.input.Template}","Vcenter":"${workflow.input.Vcenter}"},"Label":"New Virtual Machine from Template or Clone from Virtual Machine","Name":"NewVirtualMachineFromTemplate1","ObjectType":"workflow.WorkerTask","TaskDefinitionName":"NewVirtualMachineFromTemplate","Version":1},{"Count":"{{ len .global.workflow.input.IPS}}","Description":"A Serial Loop is a control task that runs one or more worker tasks multiple times based on a specified count or a given condition.  Either count or condition must be provided, not both.  When the loop is executed, based on count or condition, each iteration of task or a sequence of tasks inside loop run in serial.  If any of the task fail then the entire loop will fail.","Label":"Serial Loop","LoopStartTask":"GetVMwareVirtualMachineMac1","Name":"serialLoop1","ObjectType":"workflow.SerialLoopTask","OnSuccess":"InvokeSleepTask1"},{"CatalogMoid":"user","Description":"Gets the IP of a VMware Virtual Machine","InputParameters":{"Target":"${workflow.input.Vcenter}","vmname":"{{.global.workflow.input.CLUSTER_NAME}}-{{.iteration}}"},"Label":"Get VMware Virtual Machine Mac","Name":"GetVMwareVirtualMachineMac1","ObjectType":"workflow.WorkerTask","TaskDefinitionName":"GetVMwareVirtualMachineMac","VariableParameters":{"macstring":"{{ if not .global.workflow.variable.macstring }}\"{{.global.GetVMwareVirtualMachineMac1.output.mac}}\"{{else}}{{.global.workflow.variable.macstring}},\"{{.global.GetVMwareVirtualMachineMac1.output.mac}}\"{{end}}"},"Version":1},{"CatalogMoid":"shared","Description":"Pauses the current workflow for the specified duration.","InputParameters":{"SleepTimeInSec":10},"Label":"Build Mac List","Name":"InvokeSleepTask1","ObjectType":"workflow.WorkerTask","OnSuccess":"CreateOpenShiftClusterv21","TaskDefinitionName":"InvokeSleepTask","VariableParameters":{"macs":"{{- /* Auto-generated by transformed mapping section. DO NOT EDIT. */ -}}\n{{- $findstrings := FindAllString .global.workflow.variable.macstring \"([0-9a-fA-F]{2}[:-]){5}([0-9a-fA-F]{2})\" | ToJson -}}\n{{- $findstrings -}}"},"Version":1},{"CatalogMoid":"user","InputParameters":{"APIIP":"${workflow.input.API_IP}","BaseDomain":"${workflow.input.DOMAIN_NAME}","ClusterName":"${workflow.input.CLUSTER_NAME}","IngressIP":"${workflow.input.INGRESS_IP}","NodeIPs":"${workflow.input.IPS}","SingleNode":"${workflow.input.SingleNode}","Target":"${workflow.input.ADTarget}"},"Label":"Marks Create DNS for Openshift Cluster","Name":"MarksCreateDNSforOpenshiftCluster1","ObjectType":"workflow.SubWorkflowTask","OnSuccess":"InvokeGenericWebApi1","Version":1,"WorkflowDefinitionName":"MarksCreateDNSforOpenshiftCluster"},{"CatalogMoid":"shared","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","InputParameters":{"ContentType":"json","Method":"GET","ResponseParser":{"Parameters":[{"Name":"DatastorePath","Path":"$.InventoryPath","Type":"string"},{"Name":"DatastoreName","Path":"$.Name","Type":"string"}]},"Url":"/api/v1/virtualization/VmwareDatastores/{{.global.workflow.input.Datastore}}"},"Label":"Get Datastore Name and Path","Name":"InvokeGenericWebApi1","ObjectType":"workflow.WorkerTask","OnSuccess":"parallelLoop1","TaskDefinitionName":"InvokeGenericWebApi","VariableParameters":{"DatastoreName":"${InvokeGenericWebApi1.output.Parameters.DatastoreName}","DatastorePath":"${InvokeGenericWebApi1.output.Parameters.DatastorePath}"},"Version":2}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":383.0997229354633,"Y":-442},{"Name":"SuccessEndTask","X":1170.07929959769,"Y":48},{"Name":"FailureEndTask","X":1341.2463205364588,"Y":49.16666666666663},{"Name":"parallelLoop1","X":283.7461904527979,"Y":-181},{"Name":"parallelLoop2","X":1103.07885344718,"Y":-221.16666666666663},{"Name":"InstallOpenShiftCluster1","X":1108.07929959769,"Y":-43},{"Name":"InvokeSshCommands1","X":278.0193589917963,"Y":291.5355229597369},{"Name":"MountISOonVMfromDatastore1","X":1078.07885344718,"Y":81.83333333333337},{"Name":"CreateOpenShiftClusterv21","X":276.5937426924884,"Y":219.5355229597369},{"Name":"NewVirtualMachineFromTemplate1","X":258.7461904527979,"Y":122},{"Name":"serialLoop1","X":281.9948995556037,"Y":-18},{"Name":"GetVMwareVirtualMachineMac1","X":256.99489955560375,"Y":285},{"Name":"InvokeSleepTask1","X":256.0053020427063,"Y":152},{"Name":"MarksCreateDNSforOpenshiftCluster1","X":298,"Y":-322},{"Name":"InvokeGenericWebApi1","X":293.5,"Y":-257}]},"VariableDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue","Value":"api.openshift.com"},"Description":"Relative URL for Intersight, Device Registration and Target APIs. Does not support specifying fully qualified URL.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"openshift_api","Name":"openshift_api","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The API call can be made to Intersight or an external endpoint added as Target. Target should be in claimed or connected state. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked. An empty value for this input indicates that the API call is made to Intersight.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"ISO_HOST","Name":"ISO_HOST","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=((TargetType eq HTTPEndpoint and Status eq Claimed) or ((TargetType eq PureStorageFlashArray or TargetType eq HitachiVirtualStoragePlatform or TargetType eq NetAppActiveIqUnifiedManager or TargetType eq TerraformCloud or TargetType eq VmwareVcenter or TargetType eq APIC or TargetType eq MDSDevice or TargetType eq NexusDevice or TargetType eq UCSD or TargetType eq RedfishServer or TargetType eq UCSC890) and Status eq Connected))","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}]},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"macs","Max":16,"Min":1,"Name":"macs","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"macstring","Name":"macstring","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"DatastorePath","Name":"DatastorePath","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"DatastoreName","Name":"DatastoreName","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"Version":2},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"Batch":[{"Body":"{{- if index .global.task.input \"Body\" -}}\n  {{.global.task.input.Body.Text}}\n{{- end -}}","ContentType":"{{- if index .global.task.input \"ContentType\" -}}\n  {{.global.task.input.ContentType}}\n{{- else -}}json{{- end -}}","Cookies":"{{- if index .global.task.input \"Cookies\" -}}\n  {{.global.task.input.Cookies | ToJson}}\n{{- end -}}","EndpointRequestType":"Internal","Headers":"{{- if index .global.task.input \"Headers\" -}}\n  {{.global.task.input.Headers | ToJson}}\n{{- end -}}","Method":"{{- if index .global.task.input \"Method\" -}}\n  {{.global.task.input.Method}}\n{{- else -}}GET{{- end -}}","Name":"GenericBatchApiTask","ObjectType":"workflow.WebApi","Outcomes":"{{- if index .global.task.input \"Outcomes\" -}}\n  {{.global.task.input.Outcomes | ToJson}}\n{{- end -}}","ResponseSpec":"{{- if index .global.task.input \"ResponseParser\" -}}\n  {{.global.task.input.ResponseParser | ToJson}}\n{{- end -}}","TargetType":"{{- if index .global.task.input \"Target\" -}}\n  Endpoint\n{{- else -}}Local{{- end -}}","Url":"{{.global.task.input.Url}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Generic Batch API Task","Name":"GenericBatchApiTask","ObjectType":"workflow.BatchApiExecutor","Output":{"Cookies":"{{- if index .global.GenericBatchApiTask.output \"HttpCookies\" -}}\n  {{.global.GenericBatchApiTask.output.HttpCookies | ToJson}}\n{{- end -}}","Headers":"{{- if index .global.GenericBatchApiTask.output \"HttpHeaders\" -}}\n  {{.global.GenericBatchApiTask.output.HttpHeaders | ToJson}}\n{{- end -}}","Parameters":"{{.global.GenericBatchApiTask.output | ToJson}}","StatusCode":"{{- if index .global.GenericBatchApiTask.output \"HttpStatusCode\" -}}\n  {{.global.GenericBatchApiTask.output.HttpStatusCode}}\n{{- end -}}","StatusMessage":"{{- if index .global.GenericBatchApiTask.output \"HttpStatusMsg\" -}}\n  {{.global.GenericBatchApiTask.output.HttpStatusMsg}}\n{{- end -}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"InvokeGenericWebApi\" and Version eq 2"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveTargetImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ContainsString .global.RemoveTargetImpl.output.HttpStatusMsg \"does not exist\")}}","Message":"Target does not exist, marking the task successful.","ObjectType":"workflow.Outcome"},{"Condition":"{{(ne .global.RemoveTargetImpl.output.HttpStatusCode 200)}}","Message":"Failed to unclaim the target. Message: {{.global.RemoveTargetImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"true","Message":"Target unclaimed successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Local","Url":"/v1/asset/Targets/{{.global.task.input.Target.Moid}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Remove Target.","Name":"RemoveTargetImpl","ObjectType":"workflow.BatchApiExecutor","Output":{},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveTarget\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetApplianceDetailsImpl","ObjectType":"workflow.WebApi","Outcomes":[],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[]},"TargetType":"Local","Url":"/v1/asset/DeviceRegistrations?$filter=(PlatformType eq 'IntersightAppliance' and Tags.Key eq 'cisco.meta.intersightassist.type')&$select=Moid"},{"Body":"{\"Connections\":[{\"ManagementAddress\":\"{{.global.task.input.Host}}\"{{if index .global.task.input \"Port\"}},\"Port\":{{.global.task.input.Port}}{{end}}{{if index .global.task.input.ClaimTargetOptions \"HTTPAuth\"}}{{if eq .global.task.input.ClaimTargetOptions.HTTPAuth.AuthenticationSchemeOptions \"Basic\"}},\"Credential\":{\"Username\":\"{{.global.task.input.ClaimTargetOptions.HTTPAuth.BasicAuth.Username}}\",\"Password\":\"{{.global.task.input.ClaimTargetOptions.HTTPAuth.BasicAuth.Password}}\",\"ObjectType\":\"asset.UsernamePasswordCredential\"}{{else if eq .global.task.input.ClaimTargetOptions.HTTPAuth.AuthenticationSchemeOptions \"Bearer Token\"}},\"Credential\":{\"Token\":\"{{.global.task.input.ClaimTargetOptions.HTTPAuth.Token}}\",\"ObjectType\":\"asset.OauthBearerTokenCredential\"}{{end}}{{else if index .global.task.input.ClaimTargetOptions \"Auth\"}}, \"Credential\":{\"Username\":\"{{.global.task.input.ClaimTargetOptions.Auth.Username}}\",\"Password\":\"{{.global.task.input.ClaimTargetOptions.Auth.Password}}\",\"ObjectType\":\"asset.UsernamePasswordCredential\"}{{else if index .global.task.input.ClaimTargetOptions \"SAAuth\"}}{{if eq .global.task.input.ClaimTargetOptions.SAAuth.AuthenticationOptions \"Basic\"}},\"Credential\":{\"Username\":\"{{.global.task.input.ClaimTargetOptions.SAAuth.SABasicAuth.Username}}\",\"Password\":\"{{.global.task.input.ClaimTargetOptions.SAAuth.SABasicAuth.Password}}\",\"ObjectType\":\"asset.UsernamePasswordCredential\"}{{else if eq .global.task.input.ClaimTargetOptions.SAAuth.AuthenticationOptions \"Key Based\"}},\"Credential\":{\"Username\":\"{{.global.task.input.ClaimTargetOptions.SAAuth.SAKeyBasedAuth.Username}}\",\"PrivateKey\":\"{{.global.task.input.ClaimTargetOptions.SAAuth.SAKeyBasedAuth.PrivateKey}}\"{{ if index .global.task.input.ClaimTargetOptions.SAAuth.SAKeyBasedAuth \"Passphrase\" }},\"Passphrase\":\"{{.global.task.input.ClaimTargetOptions.SAAuth.SAKeyBasedAuth.Passphrase}}\"{{end}},\"ObjectType\":\"asset.PrivateKeyCredential\"}{{end}}{{else}},\"Credential\":{\"ObjectType\":\"asset.NoAuthenticationCredential\"}{{end}}{{if (or (eq .global.task.input.ClaimTargetOptions.TargetType \"SSHEndpoint\") (eq .global.task.input.ClaimTargetOptions.TargetType \"AnsibleEndpoint\") )}},\"ObjectType\":\"asset.SshConnection\"{{else}},\"ObjectType\":\"asset.HttpConnection\"{{if index .global.task.input.ClaimTargetOptions \"EnableHTTPSProtocol\"}},\"IsSecure\":{{.global.task.input.ClaimTargetOptions.EnableHTTPSProtocol}}{{end}}{{end}}}],\"TargetType\":\"{{.global.task.input.ClaimTargetOptions.TargetType}}\"{{if (lt (len .global.GetApplianceDetailsImpl.output.Results) 1)}}{{if index .global.task.input.ClaimTargetOptions \"ConnectViaAssist\"}}{{if .global.task.input.ClaimTargetOptions.ConnectViaAssist}},\"Assist\":{{.global.task.input.ClaimTargetOptions.Assist | ToJson}},\"ManagementLocation\":\"IntersightAssist\"{{else}},\"ManagementLocation\":\"Intersight\"{{end}}{{else if index .global.task.input.ClaimTargetOptions \"Assist\"}},\"Assist\":{{.global.task.input.ClaimTargetOptions.Assist | ToJson}},\"ManagementLocation\":\"IntersightAssist\"{{else}},\"ManagementLocation\":\"Intersight\"{{end}}{{else}},\"ManagementLocation\":\"Intersight\"{{end}}{{if index .global.task.input \"Name\"}},\"Name\":\"{{.global.task.input.Name}}\"{{end}}}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewTargetImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(and (ne .global.NewTargetImpl.output.HttpStatusCode 200) (ContainsString .global.NewTargetImpl.output.HttpStatusMsg \"The value does not match any of the expected formats: Hostname,IPv4 Address,IPv6 Address\"))}}","Message":"Unable to claim the new target. Message: The value '{{.global.task.input.Host}}' does not match any of the expected formats: Hostname,IPv4 Address,IPv6 Address.","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{(ContainsString .global.NewTargetImpl.output.HttpStatusMsg \"already claimed\")}}","Message":"Target is already claimed, marking the task successful.","ObjectType":"workflow.Outcome"},{"Condition":"{{(ne .global.NewTargetImpl.output.HttpStatusCode 200)}}","Message":"Unable to claim the new target. Message: {{.global.NewTargetImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"Error"},{"Condition":"true","Message":"Target '{{.global.task.input.Name}}' claimed successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/asset/Targets"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetTargetDetailsImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{if eq .global.GetTargetDetailsImpl.output.StatusErrorReason \"\"}}false {{else}} true {{end}}","Message":"Target status is '{{.global.GetTargetDetailsImpl.output.Status}}' with failure reason '{{.global.GetTargetDetailsImpl.output.StatusErrorReason}}'.","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if eq .global.GetTargetDetailsImpl.output.Status \"ClaimInProgress\"}} true {{end}}","Message":"Target status is '{{.global.GetTargetDetailsImpl.output.Status}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"true","Message":"Target ''{{.global.task.input.Name}}'' claimed successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Results[0].Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"StatusErrorReason","ObjectType":"content.Parameter","Path":"$.Results[0].StatusErrorReason","Secure":false,"Type":"simple"}],"Types":[]},"StartDelay":10,"TargetType":"Local","Url":"/v1/asset/Targets?$filter=(TargetType eq '{{.global.task.input.ClaimTargetOptions.TargetType}}' and Connections.ManagementAddress eq '{{.global.task.input.Host}}')&$select=Moid,Status,StatusErrorReason"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"New Target.","Name":"NewTargetImpl","ObjectType":"workflow.BatchApiExecutor","Output":{"Target":"{{if index (index .global.GetTargetDetailsImpl.output.Results 0) \"Moid\"}}{\"Moid\": \"{{(index .global.GetTargetDetailsImpl.output.Results 0).Moid}}\",\"ObjectType\":\"asset.Target\"}{{end}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewTarget\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"grant_type=refresh_token&refresh_token={{.global.task.input.OFFLINE_TOKEN}}&client_id=cloud-services","ContentType":"json","Description":"Get's the Java Web Token from Red Hat","EndpointRequestType":"Internal","Headers":{"Accept":"application/json","Content-Type":"application/x-www-form-urlencoded"},"Label":"Get JWT","Method":"POST","Name":"InvokeGenericWebApi1","ObjectType":"workflow.WebApi","Outcomes":[],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ACCESS_TOKEN","ObjectType":"content.Parameter","Path":"$.access_token","Secure":false,"Type":"string"}],"Types":[]},"TargetType":"Endpoint","Url":"/auth/realms/redhat-external/protocol/openid-connect/token"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Get's a JWT from Red Hat which you can use for 15 minutes","Name":"Get Red Hat JWT","ObjectType":"workflow.BatchApiExecutor","Output":{"ACCESS_TOKEN":"{{.global.InvokeGenericWebApi1.output.ACCESS_TOKEN}}","JWT":"{{.global.InvokeGenericWebApi1.output.ACCESS_TOKEN}}","JWT_TOKEN":"{{.global.InvokeGenericWebApi1.output.ACCESS_TOKEN}}"},"SharedScope":"user","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"GetRedHatJWT\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"text","FileTransferToRemote":{"ObjectType":"workflow.FileTransfer"},"Label":"Start Ssh Session","MessageType":"NewSession","Name":"StartSshSession","ObjectType":"workflow.SshSession","SshConfiguration":{"ObjectType":"workflow.SshConfig"}},{"CaptureCompleteResponse":"{{Btoa .global.task.input.ShowCommandOutput}}","ContentType":"text","ExpectedExitCodes":"{{- if index .global.task.input \"ExpectedExitCodes\" -}}\n  {{.global.task.input.ExpectedExitCodes | ToJson}}\n{{- end -}}","FileTransferToRemote":{"ObjectType":"workflow.FileTransfer"},"Label":"Invoke Ssh Operation","MessageType":"ExecuteCommand","Name":"InvokeSshOperation","ObjectType":"workflow.SshSession","ResponseSpec":"{{- if index .global.task.input \"ResponseParser\" -}}\n  {{.global.task.input.ResponseParser | ToJson}}\n{{- end -}}","SshCommand":"{{- if index .global.task.input \"SshCommand\" -}}\n  {{.global.task.input.SshCommand | ToJson}}\n{{- end -}}","SshConfiguration":{"ObjectType":"workflow.SshConfig"},"SshOpTimeout":"{{- if index .global.task.input \"Timeout\" -}}\n  {{Itoa .global.task.input.Timeout}}\n{{- end -}}"},{"ContentType":"text","FileTransferToRemote":{"ObjectType":"workflow.FileTransfer"},"Label":"Close Ssh Session","MessageType":"CloseSession","Name":"CloseSshSession","ObjectType":"workflow.SshSession","SshConfiguration":{"ObjectType":"workflow.SshConfig"}}],"CancelAction":[],"ClassId":"workflow.SshBatchExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Generic SSH Batch Task","Name":"GenericSshBatchTask","ObjectType":"workflow.SshBatchExecutor","Output":{"CommandExecutionError":"{{- if index .global.InvokeSshOperation.output \"CommandExecutionError\" -}}\n  {{.global.InvokeSshOperation.output.CommandExecutionError}}\n{{- end -}}","CommandOutput":"{{- if index .global.InvokeSshOperation.output \"CommandResponse\" -}}\n  {{.global.InvokeSshOperation.output.CommandResponse}}\n{{- end -}}","ExitCode":"{{.global.InvokeSshOperation.output.ExitCode}}","ExtractedParameters":"{{- if index .global.InvokeSshOperation \"output\" -}}\n  {{RemoveKeysFromMap .global.InvokeSshOperation.output \"ExitCode\" \"CommandResponse\" \"CommandExecutionError\" | ToJson}}\n{{- end -}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"InvokeSshCommands\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/SshBatchExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","Description":"Get VM Identity","EndpointRequestType":"Internal","Headers":{"Content-Type":"application/json"},"Label":"Get Identity","Method":"GET","Name":"GetIdentity","ObjectType":"workflow.WebApi","Outcomes":[],"ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Identity","ObjectType":"content.Parameter","Path":"$.value[?(@.name == \"{{.global.task.input.vmname}}\")].vm","Secure":false,"Type":"string"}],"Types":[]},"TargetType":"Endpoint","Url":"/rest/vcenter/vm"},{"Body":"{\r\n\"spec\": {\r\n\"allow_guest_control\": true,\r\n\"backing\": {\r\n\"iso_file\": \"[{{.global.task.input.Datastore}}] {{.global.task.input.ISOName}}\",    \r\n\"type\": \"ISO_FILE\"\r\n},\r\n\"start_connected\": true\r\n}\r\n}\r\n","ContentType":"json","Description":"Gets the Mac address of VM given its name","EndpointRequestType":"Internal","Headers":{"Content-type":"application/json"},"Label":"Mount ISO","Method":"PATCH","Name":"GetIP","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetIP.output.HttpStatusCode 200}}","Message":"{{.global.GetIP.output.HttpStatusMsg}}","Name":"Error if HTTP Status is not 200","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"macaddress","ObjectType":"content.Parameter","Path":"$.value.mac_address","Secure":false,"Type":"string"}],"Types":[]},"TargetType":"Endpoint","Url":"/rest/vcenter/vm/{{ index .global.GetIdentity.output.Identity 0}}/hardware/cdrom/16000"},{"ContentType":"json","Description":"Invokes the given Web API against the given endpoint. The endpoint can be Intersight API or an external endpoint added as Target in Intersight. Please refer Supported Endpoints section in the Web API request end user documentation for the list of Intersight Targets on which Web API task can be invoked.\n","EndpointRequestType":"Internal","Headers":{"Content-type":"application/json"},"Label":"Power On VM","Method":"POST","Name":"InvokeGenericWebApi1","ObjectType":"workflow.WebApi","Outcomes":[],"ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[],"Types":[]},"TargetType":"Endpoint","Url":"/rest/vcenter/vm/{{ index .global.GetIdentity.output.Identity 0}}/power/start"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Gets the IP of a VMware Virtual Machine","Name":"Mount ISO on VM from Datastore","ObjectType":"workflow.BatchApiExecutor","Output":{"vmip":"{{.global.GetIP.output.macaddress}}"},"SharedScope":"user","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"MountISOonVMfromDatastore\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Delete Vmware Virtual Machine.","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVirtualMachine\" and Version eq 3"},"Label":"Delete Vmware Virtual Machine","Name":"RemoveVmwareVirtualMachineImpl","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('HyperFlexAP', 'IWE', 'VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Remove Public Cloud virtual machine","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVirtualMachine\" and Version eq 3"},"Label":"Remove Public Cloud Virtual Machine","Name":"RemoveCloudVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('HyperFlexAP', 'IWE', 'VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.AmazonWebService","Value":"true"}],"Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Delete IWE virtual machine from hypervisor","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVirtualMachine\" and Version eq 3"},"Label":"Remove IWE Virtual Machine","Name":"RemoveIWEVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('HyperFlexAP', 'IWE', 'VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Deletes HyperFlex AP virtual machine from hypervisor","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVirtualMachine\" and Version eq 3"},"Label":"Remove HyperFlex AP Virtual Machine","Name":"RemoveHyperFlexAPVirtualMachine","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"HypervisorManager","ObjectType":"workflow.TargetDataType","Properties":[{"ConnectorAttribute":"Moid","ConstraintAttributes":["PlatformType"],"DisplayAttributes":["DeviceHostname","PlatformType","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType in ('HyperFlexAP', 'IWE', 'VmwareVcenter', 'AmazonWebService')","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.DeviceRegistration"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"},"Required":true}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine to be deleted","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"VM","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If selected, virtual machine will be powered off and then deleted safely","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Force Delete","Name":"ForceDelete","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}}],"RetryCount":50,"RetryDelay":15,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":120,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Version":3},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"New Vmware virtual machine from template or Clone from Virtual Machine","InterfaceTask":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewVirtualMachineFromTemplate\" and Version eq 1"},"Label":"New Vmware Virtual Machine from Template or Clone from Virtual Machine","Name":"NewVMFromTemplateImpl","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Hypervisor Manager","Name":"Vcenter","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["DeviceHostname","Vendor"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/DeviceRegistrations?$filter=PlatformType eq 'VmwareVcenter'","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"}}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datacenter where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster where the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which the virtual machine will be provisioned. Either a cluster or a host must be specified.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder (optional) in which the virtual machine will be provisioned.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Resource pool for the new virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Resource Pool","Name":"ResourcePool","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Datastore allocated for this virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datastore","Name":"Datastore","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatastoreType","ObjectType":"workflow.CustomDataProperty"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Path of the template or virtual machine used to provision the virtual machine, template or virtual machine should be available locally in the hypervisor manager. When template or virtual machine is directly under a Datacenter  the template path or virtual machine path should be /<<DATACENTER>>/vm/<<TEMPLATE-NAME-or-VM-NAME>>\n\nWhen template or virtual machine is in a Datacenter and a Folder,  the template or virtual machine path should be /<<DATACENTER>>/vm/<<FOLDER>>/<<TEMPLATE-NAME-or-VM-Name>>\nFor example: Template 'Template1' in Datacenter 'DC1' should be /DC1/vm/Template1\nTemplate 'Template1' in Datacenter 'DC1' under a Folder 'Folder1', should be /DC1/vm/Folder1/Template1.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Template or Virtual Machine","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[{"DisplayAttributes":["Name","InventoryPath","IsTemplate","PowerState"],"ObjectType":"workflow.MoReferenceProperty","Selector":"/api/v1/search/SearchItems?$filter=(IndexMotypes eq virtualization.BaseVirtualMachine)&$orderby=Name","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"ValueAttribute":"InventoryPath"}],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Number of CPUs (optional) to allocate for the new virtual machine, if not provided will be taken from the template or virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"CPUs","Name":"CPUs","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":1000,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"ArrayItemType":{"ObjectType":"workflow.PrimitiveArrayItem","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"GPU configurations to be applied on virtual machine","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"GPU configurations","Name":"GpuConfigs","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Memory (optional) allocation for the new virtual machine, in multiples of 4MB, if not provided will be taken from the template or virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Memory","Name":"Memory","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":100000,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Annotation (optional) for the virtual machine. If not specified, virtual machine will not have any annotation.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Annotation","Name":"Annotation","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"If checked, virtual machine will be powered up after creation.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Power On","Name":"PowerOn","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"boolean"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Network to be mapped to the Virtual Machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Network","Name":"Network","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"Network","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"OVA environment customization spec as JSON.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"OVA Environment Spec","Name":"OVAEnvSpec","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Configuration parameters specified as JSON.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Configuration Parameters","Name":"ExtraConfig","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Name of the Datacenter where virtual machine was created.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Datacenter","Name":"Datacenter","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorDatacenterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Host on which virtual machine runs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host","Name":"Host","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorHostType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Cluster on which virtual machine runs.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Cluster","Name":"Cluster","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"HypervisorClusterType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtual Machine","Name":"Name","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualMachineType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Name of the Template or Virtual Machine","Name":"Template","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Folder Name for the new virtual machine.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Folder","Name":"Folder","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VmAndTemplateFolderType","ObjectType":"workflow.CustomDataProperty"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"TaskId","Name":"TaskId","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Platform type of the Virtualization device","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Virtualization Platform Type","Name":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataType","Properties":{"CatalogMoid":"shared","CustomDataTypeName":"VirtualizationPlatformType","ObjectType":"workflow.CustomDataProperty"}}],"RetryCount":256,"RetryDelay":30,"RetryPolicy":"Fixed","SupportStatus":"Beta","Timeout":100,"TimeoutPolicy":"Retry"},"RollbackTasks":[],"SharedScope":"shared","Tags":[{"Key":"platformType.VmwareVcenter","Value":"true"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","Description":"Get VM Identity","EndpointRequestType":"Internal","Headers":{"Content-Type":"application/json"},"Label":"Get Identity","Method":"GET","Name":"GetIdentity","ObjectType":"workflow.WebApi","Outcomes":[],"ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Identity","ObjectType":"content.Parameter","Path":"$.value[?(@.name == \"{{.global.task.input.vmname}}\")].vm","Secure":false,"Type":"string"}],"Types":[]},"TargetType":"Endpoint","Url":"/rest/vcenter/vm"},{"ContentType":"json","Description":"Gets the Mac address of VM given its name","EndpointRequestType":"Internal","Headers":{"Content-type":"application/json"},"Label":"Get Mac","Method":"GET","Name":"GetIP","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne .global.GetIP.output.HttpStatusCode 200}}","Message":"{{.global.GetIP.output.HttpStatusMsg}}","Name":"Error if HTTP Status is not 200","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"macaddress","ObjectType":"content.Parameter","Path":"$.value.mac_address","Secure":false,"Type":"string"}],"Types":[]},"TargetType":"Endpoint","Url":"/rest/vcenter/vm/{{ index .global.GetIdentity.output.Identity 0}}/hardware/ethernet/4000"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Gets the IP of a VMware Virtual Machine","Name":"Get VMware Virtual Machine Mac","ObjectType":"workflow.BatchApiExecutor","Output":{"mac":"{{.global.GetIP.output.macaddress}}","vmip":"{{.global.GetIP.output.macaddress}}"},"SharedScope":"user","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"GetVMwareVirtualMachineMac\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"Remove-DnsServerResourceRecord -ZoneName \"{{.global.task.input.ZoneName}}\" -RRType \"A\" -Name \"{{.global.task.input.HostName}}\" -RecordData \"{{.global.task.input.IPaddress}}\" -Force","ContentType":"json","Description":"Remove the Windows DNS record using PowerShell command","Label":"Remove Windows DNS record","Name":"InvokePowerShellScript1","ObjectType":"workflow.PowerShellApi","Outcomes":[],"PowerShellResponseSpec":{"Parameters":[]}}],"CancelAction":[],"ClassId":"workflow.PowerShellBatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Remove a Windows DNS entry using PowerShell.  Primary use is as roll-back for Windows DNS add custom tasks.","Name":"WindowsDNSremove","ObjectType":"workflow.PowerShellBatchApiExecutor","Output":{"ExitCode":"{{.global.InvokePowerShellScript1.output.ExitCode}}"},"SharedScope":"user","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"WindowsDNSremove\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/PowerShellBatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"Add-DnsServerResourceRecordA -Name \"{{.global.task.input.HostName}}\" -ZoneName \"{{.global.task.input.ZoneName}}\" -IPv4Address \"{{.global.task.input.IPaddress}}\" -CreatePtr","ContentType":"json","Description":"Remove the Windows DNS record using PowerShell command","Label":"Add Windows DNS record","Name":"InvokePowerShellScript1","ObjectType":"workflow.PowerShellApi","Outcomes":[],"PowerShellResponseSpec":{"Parameters":[]}}],"CancelAction":[],"ClassId":"workflow.PowerShellBatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Add a Windows DNS A host record using PowerShell with the associated PTR record.","Name":"WindowsDNSaddWithPTR","ObjectType":"workflow.PowerShellBatchApiExecutor","Output":{"ExitCode":"{{.global.InvokePowerShellScript1.output.ExitCode}}"},"SharedScope":"user","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"WindowsDNSaddWithPTR\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/PowerShellBatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"SelectVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne (len .global.SelectVirtualMachineImpl.output.Results) 1}}","Message":"Virtual Machine delete request marked successful. Virtual machine may not exist at the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"Result","ItemType":"complex","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[{"Name":"Result","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"PowerState","ObjectType":"content.Parameter","Path":"$.PowerState","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMConfigForceDelete","ObjectType":"content.Parameter","Path":"$.ForceDelete","Secure":false,"Type":"simple"}]}]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines?$filter=(VmConfig.InventoryPath eq '{{.global.task.input.VirtualizationPlatformType.VM}}'  {{if index .global.task.input.VirtualizationPlatformType \"Datacenter\"}}{{if .global.task.input.VirtualizationPlatformType.Datacenter}}and VmConfig.Datacenter eq '{{.global.task.input.VirtualizationPlatformType.Datacenter}}' {{end}}{{end}}  {{if index .global.task.input.VirtualizationPlatformType \"Folder\"}}{{if .global.task.input.VirtualizationPlatformType.Folder}} and VmConfig.Folder eq '{{.global.task.input.VirtualizationPlatformType.Folder}}'{{end}}{{end}})"},{"Body":"{\"Name\": \"{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}\",\"Action\": \"PowerState\",\"PowerState\": \"PowerOff\",\"RegisteredDevice\": \"{{.global.task.input.HypervisorManager.Moid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"EditVirtualMachinePowerOffImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.EditVirtualMachinePowerOffImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine. Message: {{.global.EditVirtualMachinePowerOffImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"true","Message":"Power off action initiated for the virtual machine.","ObjectType":"workflow.Outcome"}],"Protocol":"https","SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.SelectVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.SelectVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Timeout":120,"Url":"/v1/virtualization/VirtualMachines/{{(index .global.SelectVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchVirtualMachinePowerStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"queued\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"InProgress\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Success\")}}true{{end}}","Message":"Virtual machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}' powered off successfully and is ready for removal.","ObjectType":"workflow.Outcome"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Failure\")}}true{{end}}","Message":"{{ .global.WatchVirtualMachinePowerStatusImpl.output.FailureReason }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{(ne .global.WatchVirtualMachinePowerStatusImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}' . Message: {{.global.WatchVirtualMachinePowerStatusImpl.output.Error}}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.ActionInfo.Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Error","ObjectType":"content.Parameter","Path":"$.Error","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"FailureReason","ObjectType":"content.Parameter","Path":"$.ActionInfo.FailureReason","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.SelectVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.SelectVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Timeout":120,"Url":"/v1/virtualization/VirtualMachines/{{(index .global.SelectVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveVmwareVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveVmwareVirtualMachineImpl.output.code \"Conflict\"}}","Message":"Failed to remove virtual machine. Message: {{ .global.RemoveVmwareVirtualMachineImpl.output.Message }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.RemoveVmwareVirtualMachineImpl.output.HttpStatusCode 404}}","Message":"Virtual Machine '{{ (index .global.SelectVirtualMachineImpl.output.Results 0).Name}}' delete request marked successful. Virtual machine may not exist in the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"code","ObjectType":"content.Parameter","Path":"$.code","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Message","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"MessageParams","ObjectType":"content.Parameter","Path":"$.messageParams","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Timeout":180,"Url":"/v1/virtualization/VirtualMachines/{{(index .global.SelectVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchVmwareRemoveVMStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{or (ContainsString .global.WatchVmwareRemoveVMStatusImpl.output.Status \"RUNNING\") (ContainsString .global.WatchVmwareRemoveVMStatusImpl.output.Status \"WAIT\")}}","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{eq .global.WatchVmwareRemoveVMStatusImpl.output.Status \"COMPLETED\"}}","Message":"Virtual Machine '{{(index .global.SelectVirtualMachineImpl.output.Results 0).Name}}' removed successfully.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"{{ne .global.WatchVmwareRemoveVMStatusImpl.output.HttpStatusCode 200}}","Message":"Failed to remove virtual machine '{{(index .global.SelectVirtualMachineImpl.output.Results 0).Name}}'-. Message: {{ .global.WatchVmwareRemoveVMStatusImpl.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Timeout":180,"Url":"/v1/workflow/WorkflowInfos/{{(index (FindAllString (index .global.RemoveVmwareVirtualMachineImpl.output.MessageParams \"1\") \"([^/]+)$\") 0)}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"PlatformType":"VmwareVcenter"}},"Description":"Delete Vmware virtual machine.","Name":"RemoveVmwareVirtualMachineImpl","ObjectType":"workflow.BatchApiExecutor","Output":{"ForceDelete":"{{.global.task.input.VirtualizationPlatformType.ForceDelete}}","VM":"{{.global.task.input.VirtualizationPlatformType.VM}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveVmwareVirtualMachineImpl\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetAWSVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne (len .global.GetAWSVirtualMachineImpl.output.Results) 1}}","Message":"Virtual Machine delete request marked successful. Virtual machine may not exist at the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"Result","ItemType":"complex","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[{"Name":"Result","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"}]}]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines?$filter=(VmConfig.VmId eq '{{.global.task.input.VirtualizationPlatformType.VmIdentity}}')"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveCloudVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveCloudVirtualMachineImpl.output.code \"Conflict\"}}","Message":"Failed to remove virtual machine. Message: {{ .global.RemoveCloudVirtualMachineImpl.output.Message }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.RemoveCloudVirtualMachineImpl.output.HttpStatusCode 404}}","Message":"Virtual Machine '{{ (index .global.GetAWSVirtualMachineImpl.output.Results 0).Name}}' delete request marked successful. Virtual machine may not exist in the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"code","ObjectType":"content.Parameter","Path":"$.code","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Message","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"MessageParams","ObjectType":"content.Parameter","Path":"$.messageParams","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Timeout":180,"Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetAWSVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchAWSRemoveVMStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{or (ContainsString .global.WatchAWSRemoveVMStatusImpl.output.Status \"RUNNING\") (ContainsString .global.WatchAWSRemoveVMStatusImpl.output.Status \"WAIT\")}}","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{eq .global.WatchAWSRemoveVMStatusImpl.output.Status \"COMPLETED\"}}","Message":"Virtual Machine '{{(index .global.GetAWSVirtualMachineImpl.output.Results 0).Name}}' removed successfully.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"{{ne .global.WatchAWSRemoveVMStatusImpl.output.HttpStatusCode 200}}","Message":"Failed to remove virtual machine '{{(index .global.GetAWSVirtualMachineImpl.output.Results 0).Name}}'-. Message: {{ .global.WatchAWSRemoveVMStatusImpl.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/workflow/WorkflowInfos/{{(index (FindAllString (index .global.RemoveCloudVirtualMachineImpl.output.MessageParams \"1\") \"([^/]+)$\") 0)}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"PlatformType":"AmazonWebService"}},"Description":"Remove virtual machine","Name":"RemoveCloudVirtualMachine","ObjectType":"workflow.BatchApiExecutor","Output":{"VM":"{{(index .global.GetAWSVirtualMachineImpl.output.Results 0).Name}}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveCloudVirtualMachine\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetIWEVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne (len .global.GetIWEVirtualMachineImpl.output.Results) 1}}","Message":"Virtual Machine delete request marked successful. Virtual machine may not exist at the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"Result","ItemType":"complex","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[{"Name":"Result","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"PowerState","ObjectType":"content.Parameter","Path":"$.PowerState","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMConfigForceDelete","ObjectType":"content.Parameter","Path":"$.ForceDelete","Secure":false,"Type":"simple"}]}]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines?$filter=(Inventory.Moid eq '{{.global.task.input.VirtualizationPlatformType.VM}}')"},{"Body":"{\"Name\": \"{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}\",\"Action\": \"PowerState\",\"PowerState\": \"PowerOff\",\"RegisteredDevice\": \"{{.global.task.input.HypervisorManager.Moid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"EditVirtualMachinePowerOffImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.EditVirtualMachinePowerOffImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine. Message: {{.global.EditVirtualMachinePowerOffImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"true","Message":"Power off action initiated for the virtual machine.","ObjectType":"workflow.Outcome"}],"Protocol":"https","SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.GetIWEVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.GetIWEVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchVirtualMachinePowerStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.WatchVirtualMachinePowerStatusImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}' . Message: {{.global.WatchVirtualMachinePowerStatusImpl.output.Error}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Failure\")}}true{{end}}","Message":"{{ .global.WatchVirtualMachinePowerStatusImpl.output.FailureReason }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"InProgress\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"queued\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Success\")}}true{{end}}","Message":"Virtual machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}' powered off successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.ActionInfo.Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Error","ObjectType":"content.Parameter","Path":"$.Error","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"FailureReason","ObjectType":"content.Parameter","Path":"$.ActionInfo.FailureReason","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.GetIWEVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.GetIWEVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveIWEVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveIWEVirtualMachineImpl.output.code \"Conflict\"}}","Message":"Failed to remove virtual machine. Message: {{ .global.RemoveIWEVirtualMachineImpl.output.Message }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.RemoveIWEVirtualMachineImpl.output.HttpStatusCode 404}}","Message":"Virtual Machine '{{ (index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}' delete request marked successful. Virtual machine may not exist in the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"code","ObjectType":"content.Parameter","Path":"$.code","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Message","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"MessageParams","ObjectType":"content.Parameter","Path":"$.messageParams","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchRemoveIWEVMStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.WatchRemoveIWEVMStatusImpl.output.Status \"COMPLETED\"}}","Message":"Virtual Machine '{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}' removed successfully.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"{{or (ContainsString .global.WatchRemoveIWEVMStatusImpl.output.Status \"RUNNING\") (ContainsString .global.WatchRemoveIWEVMStatusImpl.output.Status \"WAIT\")}}","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{ne .global.WatchRemoveIWEVMStatusImpl.output.HttpStatusCode 200}}","Message":"Failed to remove virtual machine '{{(index .global.GetIWEVirtualMachineImpl.output.Results 0).Name}}'-. Message: {{ .global.WatchRemoveIWEVMStatusImpl.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/workflow/WorkflowInfos/{{(index (FindAllString (index .global.RemoveIWEVirtualMachineImpl.output.MessageParams \"1\") \"([^/]+)$\") 0)}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"PlatformType":"IWE"}},"Description":"Delete an existing IWE virtual machine","Name":"RemoveIWEVirtualMachine","ObjectType":"workflow.BatchApiExecutor","RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveIWEVirtualMachine\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"GetHyperFlexAPVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{ne (len .global.GetHyperFlexAPVirtualMachineImpl.output.Results) 1}}","Message":"Virtual Machine delete request marked successful. Virtual machine may not exist at the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"Result","ItemType":"complex","Name":"Results","ObjectType":"content.Parameter","Path":"$.Results","Secure":false,"Type":"collection"}],"Types":[{"Name":"Result","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"PowerState","ObjectType":"content.Parameter","Path":"$.PowerState","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Moid","ObjectType":"content.Parameter","Path":"$.Moid","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"VMConfigForceDelete","ObjectType":"content.Parameter","Path":"$.ForceDelete","Secure":false,"Type":"simple"}]}]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines?$filter=(Inventory.Moid eq '{{.global.task.input.VirtualizationPlatformType.VM}}')"},{"Body":"{\"Name\": \"{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}\",\"Action\": \"PowerState\",\"PowerState\": \"PowerOff\",\"RegisteredDevice\": \"{{.global.task.input.HypervisorManager.Moid}}\"}","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"EditVirtualMachinePowerOffImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.EditVirtualMachinePowerOffImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine. Message: {{.global.EditVirtualMachinePowerOffImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"true","Message":"Power off action initiated for the virtual machine.","ObjectType":"workflow.Outcome"}],"Protocol":"https","SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchVirtualMachinePowerStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.WatchVirtualMachinePowerStatusImpl.output.HttpStatusCode 200)}}","Message":"Failed to power off virtual machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}' . Message: {{.global.WatchVirtualMachinePowerStatusImpl.output.Error}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Failure\")}}true{{end}}","Message":"{{ .global.WatchVirtualMachinePowerStatusImpl.output.FailureReason }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"InProgress\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"queued\")}}true{{end}}","Message":"Power off action initiated for the virtual machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}'.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchVirtualMachinePowerStatusImpl.output.Status \"Success\")}}true{{end}}","Message":"Virtual machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}' powered off successfully.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.ActionInfo.Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Error","ObjectType":"content.Parameter","Path":"$.Error","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"FailureReason","ObjectType":"content.Parameter","Path":"$.ActionInfo.FailureReason","Secure":false,"Type":"simple"}],"Types":[]},"SkipOnCondition":"{{if or (eq .global.task.input.VirtualizationPlatformType.ForceDelete false ) (eq (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).PowerState \"PowerOff\") (eq (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).VMConfigForceDelete true)}} true {{else}} false {{end}}","TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"DELETE","Name":"RemoveHyperFlexAPVirtualMachineImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.RemoveHyperFlexAPVirtualMachineImpl.output.code \"Conflict\"}}","Message":"Failed to remove virtual machine. Message: {{ .global.RemoveHyperFlexAPVirtualMachineImpl.output.Message }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.RemoveHyperFlexAPVirtualMachineImpl.output.HttpStatusCode 404}}","Message":"Virtual Machine '{{ (index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}' delete request marked successful. Virtual machine may not exist in the given location.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"code","ObjectType":"content.Parameter","Path":"$.code","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Message","ObjectType":"content.Parameter","Path":"$.message","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"MessageParams","ObjectType":"content.Parameter","Path":"$.messageParams","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/virtualization/VirtualMachines/{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Moid}}"},{"ContentType":"json","EndpointRequestType":"Internal","Method":"GET","Name":"WatchRemoveHyperFlexAPVMStatusImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{eq .global.WatchRemoveHyperFlexAPVMStatusImpl.output.Status \"COMPLETED\"}}","Message":"Virtual Machine '{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}' removed successfully.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"{{or (ContainsString .global.WatchRemoveHyperFlexAPVMStatusImpl.output.Status \"RUNNING\") (ContainsString .global.WatchRemoveHyperFlexAPVMStatusImpl.output.Status \"WAIT\")}}","Message":"Remove virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{ne .global.WatchRemoveHyperFlexAPVMStatusImpl.output.HttpStatusCode 200}}","Message":"Failed to remove virtual machine '{{(index .global.GetHyperFlexAPVirtualMachineImpl.output.Results 0).Name}}'-. Message: {{ .global.WatchRemoveHyperFlexAPVMStatusImpl.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Local","Url":"/v1/workflow/WorkflowInfos/{{(index (FindAllString (index .global.RemoveHyperFlexAPVirtualMachineImpl.output.MessageParams \"1\") \"([^/]+)$\") 0)}}"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints","TargetDataType":{"PlatformType":"HyperFlexAP"}},"Description":"Delete an existing HyperFlexAP virtual machine","Name":"RemoveHyperFlexAPVirtualMachine","ObjectType":"workflow.BatchApiExecutor","RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"RemoveHyperFlexAPVirtualMachine\" and Version eq 3"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"},{"Body":{"Batch":[{"Body":"{ \"ExtraConfig\": {{.global.task.input.ExtraConfig | ToJson}}, \"GpuConfigs\": {{.global.task.input.GpuConfigs | ToJson}}, \"OVFEnv\": {{.global.task.input.OVAEnvSpec | ToJson}}, \"Network\":{{ if .global.task.input.Network}}\"{{.global.task.input.Network}}\",{{else}}\"\",{{end}}\"Name\":\"{{.global.task.input.Name}}\" , \"Template\":\"{{.global.task.input.Template}}\", {{if .global.task.input.Datacenter}}\"Datacenter\":\"{{.global.task.input.Datacenter}}\", {{ else }}\"Datacenter\": \"\",{{end}} {{if .global.task.input.Folder}}\"Folder\":\"{{.global.task.input.Folder}}\", {{ else }}\"Folder\": \"\",{{end}} {{if .global.task.input.Cluster}}\"Cluster\":\"{{.global.task.input.Cluster}}\", {{ else }}\"Cluster\": \"\",{{end}} {{if .global.task.input.PowerOn}}\"Poweron\":{{.global.task.input.PowerOn}},{{ else }}\"Poweron\": false,{{end}} {{if .global.task.input.Host}}\"Host\":\"{{.global.task.input.Host}}\", {{ else }}\"Host\": \"\",{{end}}  {{if .global.task.input.ResourcePool}}\"ResourcePool\":\"{{.global.task.input.ResourcePool}}\",{{ else }}\"ResourcePool\": \"\",{{end}} \"Datastore\":\"{{.global.task.input.Datastore}}\" ,  {{if .global.task.input.Annotation}}\"Annotation\":\"{{.global.task.input.Annotation}}\" , {{ else }}\"Annotation\": \"\",{{end}} {{if .global.task.input.CPUs}}\"CPUs\":{{.global.task.input.CPUs}},{{ else }}\"CPUs\": 0,{{end}} {{if .global.task.input.Memory}}\"Memory\":{{.global.task.input.Memory}},{{end}} \"Vcenter\":\"{{.global.task.input.Vcenter}}\" }","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"NewVMFromTemplateImpl","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{(ne .global.NewVMFromTemplateImpl.output.HttpStatusCode 200)}}","Message":"Failed to provision virtual machine '{{.global.task.input.Name}}'. Message: {{.global.NewVMFromTemplateImpl.output.HttpStatusMsg}}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{ and (eq .global.NewVMFromTemplateImpl.output.HttpStatusCode 200) (eq .global.NewVMFromTemplateImpl.output.TaskId \"\") }}","Message":"Virtual machine {{.global.task.input.Name}} already exists. Skip all other steps.","ObjectType":"workflow.Outcome","Type":"SkipToSuccess"},{"Condition":"true","Message":"Provision virtual machine execution is in progress.","ObjectType":"workflow.Outcome"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Name","ObjectType":"content.Parameter","Path":"$.Name","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"CPUs","ObjectType":"content.Parameter","Path":"$.CPUs","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"GpuConfigs","ObjectType":"content.Parameter","Path":"$.GpuConfigs","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Memory","ObjectType":"content.Parameter","Path":"$.Memory","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datacenter","ObjectType":"content.Parameter","Path":"$.Datacenter","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Folder","ObjectType":"content.Parameter","Path":"$.Folder","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Cluster","ObjectType":"content.Parameter","Path":"$.Cluster","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Host","ObjectType":"content.Parameter","Path":"$.Host","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"ResourcePool","ObjectType":"content.Parameter","Path":"$.ResourcePool","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Datastore","ObjectType":"content.Parameter","Path":"$.Datastore","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Annotation","ObjectType":"content.Parameter","Path":"$.Annotation","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Template","ObjectType":"content.Parameter","Path":"$.Template","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"PowerOn","ObjectType":"content.Parameter","Path":"$.PowerOn","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"TaskId","ObjectType":"content.Parameter","Path":"$.TaskId","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Timeout":180,"Url":"/task/Execute/NewVMFromTemplate"},{"Body":" { \"TaskId\": \"{{.global.NewVMFromTemplateImpl.output.TaskId}}\", \"EntityInventoryPath\": \"{{.global.NewVMFromTemplateImpl.output.Template}}\", \"EntityType\": \"VIRTUAL-MACHINE\" }","ContentType":"json","EndpointRequestType":"Internal","Method":"POST","Name":"WatchProvisionVMStatus","ObjectType":"workflow.WebApi","Outcomes":[{"Condition":"{{if (ContainsString .global.WatchProvisionVMStatus.output.Status \"running\")}}true{{end}}","Message":"New virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{if (ContainsString .global.WatchProvisionVMStatus.output.Status \"queued\")}}true{{end}}","Message":"New virtual machine execution is in progress.","ObjectType":"workflow.Outcome","Type":"Status"},{"Condition":"{{eq .global.WatchProvisionVMStatus.output.HttpStatusCode 200}}","Message":"Virtual Machine '{{.global.task.input.Name}}' created successfully.","ObjectType":"workflow.Outcome"},{"Condition":"{{if (ContainsString .global.WatchProvisionVMStatus.output.HttpStatusMsg \"Task Failed\")}}true{{end}}","Message":"Failed to provision virtual machine '{{.global.task.input.Name}}'. Message: {{ .global.WatchProvisionVMStatus.output.Error }}","ObjectType":"workflow.Outcome","Type":"TerminalError"},{"Condition":"{{eq .global.WatchProvisionVMStatus.output.HttpStatusCode 400}}","Message":"Failed to provision virtual machine '{{.global.task.input.Name}}'. Message: {{ .global.WatchProvisionVMStatus.output.HttpStatusMsg }}","ObjectType":"workflow.Outcome","Type":"TerminalError"}],"Protocol":"https","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Progress","ObjectType":"content.Parameter","Path":"$.Progress","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Status","ObjectType":"content.Parameter","Path":"$.Status","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"CompletionTime","ObjectType":"content.Parameter","Path":"$.CompletionTime","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","ItemType":"simple","Name":"Error","ObjectType":"content.Parameter","Path":"$.Error","Secure":false,"Type":"simple"}],"Types":[]},"TargetType":"Endpoint","Timeout":180,"Url":"/task/Execute/TaskMonitor"}],"CancelAction":[],"ClassId":"workflow.BatchApiExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Create new virtual machine from template or Clone from Virtual Machine","Name":"NewVMFromTemplateImpl","ObjectType":"workflow.BatchApiExecutor","Output":{"Cluster":"{{.global.NewVMFromTemplateImpl.output.Cluster}}","Datacenter":"{{.global.NewVMFromTemplateImpl.output.Datacenter}}","Folder":"{{if .global.task.input.Folder}}{{.global.task.input.Folder}}{{end}}","Host":"{{.global.NewVMFromTemplateImpl.output.Host}}","Name":"{{if .global.task.input.Folder}}{{.global.task.input.Folder}}/{{.global.NewVMFromTemplateImpl.output.Name}}{{else}}{{.global.NewVMFromTemplateImpl.output.Datacenter}}/vm/{{.global.NewVMFromTemplateImpl.output.Name}}{{end}}","TaskId":"{{.global.NewVMFromTemplateImpl.output.TaskId}}","Template":"{{.global.NewVMFromTemplateImpl.output.Template}}","VirtualizationPlatformType":"{\"VirtualizationPlatformType\": \"VmwareVcenter\",\"VM\": \"{{if .global.task.input.Folder}}{{.global.task.input.Folder}}/{{.global.NewVMFromTemplateImpl.output.Name}}{{else}}{{.global.NewVMFromTemplateImpl.output.Datacenter}}/vm/{{.global.NewVMFromTemplateImpl.output.Name}}{{end}}\",\"Datacenter\": \"{{.global.NewVMFromTemplateImpl.output.Datacenter}}\",\"Folder\": \"{{if .global.task.input.Folder}}{{.global.task.input.Folder}}{{end}}\",\"ForceDelete\": true}"},"RetryFromFailedApi":true,"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"NewVMFromTemplateImpl\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/BatchApiExecutors","Verb":"POST"}]